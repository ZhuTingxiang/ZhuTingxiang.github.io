<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[离开这里两年后]]></title>
      <url>http:starllap.space/2019/09/17/%E7%A6%BB%E5%BC%80%E8%BF%99%E9%87%8C%E4%B8%A4%E5%B9%B4%E5%90%8E-1/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>两年了，我感到自己离开最想象力丰富，最充满热情的年龄太遥远了。这些日子，一直在思考自己如何变成一个越发平庸的人。</p>
<p>甚至找不到给自己的标签。</p>
<p>在这个地方，还可以写点文字，找找自己真正想要的是什么。</p>
<p>今天收到别人请求内推的邮件，没有附上简历。第一次没有生气。忽然想起当初自己找工作时候莽莽撞撞，无所适从的样子，想起那些睡不着的夜晚，不停哭不停哭的时刻，想起无法面对自己的失败，却充满韧性的我。至少那个时候，充满希望，机智善良。</p>
<p>不知道工作改变了我什么，变成一个刻薄或者并不耐心的人，或者变成毫无生趣的人。终究是中了这个社会的圈套。</p>
<p>我思来想去，我擅长的可能不够好，但对于写字，记录，和思考，我终究还是喜爱的。我到达不了哪里，也没有什么小目标，可能这辈子也不会出一本书。但我要好好写下去，让自己更努力一点。</p>
<p>这几年，好像之前太努力了，工作以后总想着如何享受生活。可我大概不是享受的命，我还是很怀念奋斗时不记得自己是谁的感觉，怀念充满了观念的我。</p>
<p>不知道创业公司是不是更适合我，如果能解决生计，温饱，我为什么要为了那些所谓的优越而选择平庸呢。</p>
<p>我甚至不知道下一篇什么时候会写。我不知道明天我会不会努力。</p>
<p>但我记录在这里，至少在这一刻，我还想过自己是不是可以不平凡。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[计算机网络原理知识点初整理]]></title>
      <url>http:starllap.space/2017/06/07/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%8E%9F%E7%90%86%E7%9F%A5%E8%AF%86%E7%82%B9%E5%88%9D%E6%95%B4%E7%90%86/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>更新中...</p>
<h2 id="http">HTTP</h2>
<h3 id="http报文">HTTP报文</h3>
<p>分为request line, header line, message body
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;method&gt; &lt;request-URL&gt; &lt;version&gt;</div><div class="line">&lt;headers&gt;</div><div class="line"></div><div class="line">&lt;entity-body&gt;</div></pre></td></tr></table></figure></p>
<h3 id="http基本方法">HTTP基本方法：</h3>
<p>GET，POST，PUT，DELETE。
URL全称是资源描述符，我们可以这样认为：一个URL地址，它用于描述一个网络上的资源。</p>
<h4 id="get">GET：</h4>
<p>用于信息获取，而且应该是安全的 和 幂等的。</p>
<p>所谓安全的意味着该操作用于获取信息而非修改信息。换句话说，GET 请求一般不应产生副作用。就是说，它仅仅是获取资源信息，就像数据库查询一样，不会修改，增加数据，不会影响资源的状态。</p>
<p>幂等的意味着对同一URL的多个请求应该返回同样的结果。</p>
<p>GET请求报文示例：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">GET /books/?sex=man&amp;name=Professional HTTP/1.1</div><div class="line"> Host: www.example.com</div><div class="line"> User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)</div><div class="line"> Gecko/20050225 Firefox/1.0.1</div><div class="line"> Connection: Keep-Alive</div></pre></td></tr></table></figure></p>
<h4 id="post">Post:</h4>
<p>报文示例：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">POST / HTTP/1.1</div><div class="line">Host: www.example.com</div><div class="line">User-Agent: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US; rv:1.7.6)</div><div class="line">Gecko/20050225 Firefox/1.0.1</div><div class="line">Content-Type: application/x-www-form-urlencoded</div><div class="line">Content-Length: 40</div><div class="line">Connection: Keep-Alive</div><div class="line"></div><div class="line">sex=man&amp;name=Professional</div></pre></td></tr></table></figure></p>
<p>HTTP 协议中规定 POST 提交的数据必须在 body 部分中，但是协议中没有规定数据使用哪种编码方式或者数据格式。实际上，开发者完全可以自己决定消息主体的格式，只要最后发送的 HTTP 请求满足上面的格式就可以。</p>
<h5 id="post提交数据的方式">Post提交数据的方式：</h5>
<h6 id="applicationx-www-form-urlencoded">application/x-www-form-urlencoded</h6>
<p>浏览器的原生 &lt;form&gt; 表单，如果不设置 enctype 属性，那么最终就会以 application/x-www-form-urlencoded 方式提交数据。</p>
<h6 id="multipartform-data">multipart/form-data</h6>
<h3 id="响应报文">响应报文</h3>
<p>HTTP 响应与 HTTP 请求相似，HTTP响应也由3个部分构成，分别是：</p>
<p>状态行
响应头(Response Header)
响应正文</p>
<h3 id="常见状态码">常见状态码：</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">200 OK 客户端请求成功</div><div class="line">301 Moved Permanently 请求永久重定向</div><div class="line">302 Moved Temporarily 请求临时重定向</div><div class="line">304 Not Modified 文件未修改，可以直接使用缓存的文件。</div><div class="line">400 Bad Request 由于客户端请求有语法错误，不能被服务器所理解。</div><div class="line">401 Unauthorized 请求未经授权。这个状态代码必须和WWW-Authenticate报头域一起使用</div><div class="line">403 Forbidden 服务器收到请求，但是拒绝提供服务。服务器通常会在响应正文中给出不提供服务的原因</div><div class="line">404 Not Found 请求的资源不存在，例如，输入了错误的URL</div><div class="line">500 Internal Server Error 服务器发生不可预期的错误，导致无法完成客户端的请求。</div><div class="line">503 Service Unavailable 服务器当前不能够处理客户端的请求，在一段时间之后，服务器可能会恢复正常。</div></pre></td></tr></table></figure></p>
<h3 id="keep-alive">Keep-alive:</h3>
<p>在 HTTP 1.1 版本中，默认情况下所有连接都被保持，如果加入 &quot;Connection: close&quot; 才关闭。目前大部分浏览器都使用 HTTP 1.1 协议，也就是说默认都会发起 Keep-Alive 的连接请求了，所以是否能完成一个完整的 Keep-Alive 连接就看服务器设置情况。</p>
<p>使用长连接之后，客户端、服务端怎么知道本次传输结束呢？两部分：1. 判断传输数据是否达到了Content-Length 指示的大小；2. 动态生成的文件没有 Content-Length ，它是分块传输（chunked），这时候就要根据 chunked 编码来判断，chunked 编码的数据在最后有一个空 chunked 块，表明本次传输数据结束。</p>
<h3 id="cookie">Cookie</h3>
<p>Cookie是Web服务器发送给客户端的一小段信息，客户端请求时可以读取该信息发送到服务器端，进而进行用户的识别。对于客户端的每次请求，服务器都会将Cookie发送到客户端,在客户端可以进行保存,以便下次使用。</p>
<p>客户端可以采用两种方式来保存这个Cookie对象，一种方式是保存在客户端内存中，称为临时Cookie，浏览器关闭后这个Cookie对象将消失。另外一种方式是保存在客户机的磁盘上，称为永久Cookie。以后客户端只要访问该网站，就会将这个Cookie再次发送到服务器上，前提是这个Cookie在有效期内，这样就实现了对客户的跟踪。</p>
<p>Cookie是可以被禁止的。</p>
<h3 id="session">Session</h3>
<p>每一个用户都有一个不同的session，各个用户之间是不能共享的，是每个用户所独享的，在session中可以存放信息。</p>
<p>在服务器端会创建一个session对象，产生一个sessionID来标识这个session对象，然后将这个sessionID放入到Cookie中发送到客户端，下一次访问时，sessionID会发送到服务器，在服务器端进行识别不同的用户。</p>
<p>Session的实现依赖于Cookie，如果Cookie被禁用，那么session也将失效。</p>
<h3 id="token">Token</h3>
<p>目前主流的做法是使用 Token 抵御 CSRF 攻击。</p>
<p>Token 使用原则</p>
<ul>
<li>要足够随机————只有这样才算不可预测</li>
<li>是一次性的，即每次请求成功后要更新Token————这样可以增加攻击难度，增加预测难度</li>
<li>要注意保密性————敏感操作使用 post，防止 Token 出现在 URL 中</li>
</ul>
<p>注意：过滤用户输入的内容不能阻挡 csrf，我们需要做的是过滤请求的来源</p>
<h2 id="tcp">TCP</h2>
<ul>
<li>TCP提供一种面向连接的、可靠的字节流服务</li>
<li>在一个TCP连接中，仅有两方进行彼此通信。广播和多播不能用于TCP</li>
<li>TCP使用校验和，确认和重传机制来保证可靠传输</li>
<li>TCP给数据分节进行排序，并使用累积确认保证数据的顺序不变和非重复</li>
<li>TCP使用滑动窗口机制来实现流量控制，通过动态改变窗口的大小进行拥塞控制</li>
</ul>
<h3 id="三次握手-three-way-handshake">三次握手 Three-way Handshake</h3>
<p>是指建立一个 TCP 连接时，需要客户端和服务器总共发送3个包。
三次握手的目的是连接服务器指定端口，建立 TCP 连接，并同步连接双方的序列号和确认号，交换 TCP 窗口大小信息。在 socket 编程中，客户端执行 connect() 时。将触发三次握手。
<img src="http://i.imgur.com/DROOpLM.png" alt="">
在TCP/IP协议中，TCP协议提供可靠的连接服务，采用三次握手建立一个连接。
第一次握手：建立连接时，客户端发送syn包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认；</p>
<p>第二次握手：服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态； 第三次握手：客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。 完成三次握手，客户端与服务器开始传送数据.</p>
<h2 id="socket">Socket</h2>
<p>Socket 是对 TCP/IP 协议族的一种封装，是应用层与TCP/IP协议族通信的中间软件抽象层。从设计模式的角度看来，Socket其实就是一个门面模式，它把复杂的TCP/IP协议族隐藏在Socket接口后面，对用户来说，一组简单的接口就是全部，让Socket去组织数据，以符合指定的协议。
Socket 还可以认为是一种网络间不同计算机上的进程通信的一种方法，利用三元组（ip地址，协议，端口）就可以唯一标识网络中的进程，网络中的进程通信可以利用这个标志与其它进程进行交互。</p>
<p><img src="http://i.imgur.com/w4tZUCs.png" alt=""></p>
<p>References:
https://hit-alibaba.github.io/interview/basic/network/HTTP.html</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Binary Search 二分查找]]></title>
      <url>http:starllap.space/2017/05/28/Binary%20Search/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><h2 id="二分查找模板总结">二分查找模板总结</h2>
<p>四点要素：</p>
<ul>
<li>start + 1 &lt; end</li>
<li>start + (end - start) / 2</li>
<li>A[mid] ==, &lt;, &gt;</li>
<li>A[start] A[end] ? target</li>
</ul>
<p>二分法关键</p>
<ul>
<li>头尾指针，取中点，判断往哪儿走</li>
<li>寻找满足某个条件第一个或是最后一个位置</li>
<li>保留剩下来一定有解的那一半</li>
</ul>
<h3 id="question-1-classical-binary-search">Question 1: classical-binary-search</h3>
<p>https://www.lintcode.com/en/problem/classical-binary-search/</p>
<p>Find any position of a target number in a sorted array. Return -1 if target does not exist.</p>
<p>Given [1, 2, 2, 4, 5, 5].</p>
<p>For target = 2, return 1 or 2.</p>
<p>For target = 5, return 4 or 5.</p>
<p>For target = 6, return -1.</p>
<h3 id="explanation">Explanation</h3>
<p>基本的二分查找。</p>
<h3 id="code">Code</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    /**</div><div class="line">     * @param A an integer array sorted in ascending order</div><div class="line">     * @param target an integer</div><div class="line">     * @return an integer</div><div class="line">     */</div><div class="line">    public int findPosition(int[] A, int target) &#123;</div><div class="line">        // Write your code here</div><div class="line">        if (A == null || A.length == 0)&#123;</div><div class="line">            return -1;</div><div class="line">        &#125;</div><div class="line">        int start = 0;</div><div class="line">        int end = A.length - 1;</div><div class="line">        while (start + 1 &lt; end) &#123;</div><div class="line">            int mid = start + (end - start) / 2;</div><div class="line">            if (target == A[mid]) &#123;</div><div class="line">                end = mid;</div><div class="line">            &#125; else if (target &gt; A[mid]) &#123;</div><div class="line">                start = mid;</div><div class="line">            &#125; else &#123;</div><div class="line">                end = mid;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        if (target == A[start]) &#123;</div><div class="line">            return start;</div><div class="line">        &#125;</div><div class="line">        if (target == A[end]) &#123;</div><div class="line">            return end;</div><div class="line">        &#125;</div><div class="line">        return -1;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="question-2-first-position-of-target">Question 2: First Position of target</h3>
<p>For a given sorted array (ascending order) and a target number, find the first index of this number in O(log n) time complexity.</p>
<p>If the target number does not exist in the array, return -1.</p>
<p>If the array is [1, 2, 3, 3, 4, 5, 10], for given target 3, return 2.</p>
<h3 id="code">Code</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">    /**</div><div class="line">     * @param nums: The integer array.</div><div class="line">     * @param target: Target to find.</div><div class="line">     * @return: The first position of target. Position starts from 0.</div><div class="line">     */</div><div class="line">    public int binarySearch(int[] nums, int target) &#123;</div><div class="line">        //write your code here</div><div class="line">        if (nums == null || nums.length == 0) return -1;</div><div class="line">        int start = 0;</div><div class="line">        int end = nums.length - 1;</div><div class="line">        while (start + 1 &lt; end) &#123;</div><div class="line">            int mid = start + (end - start) / 2;</div><div class="line">            if (target == nums[mid]) &#123;</div><div class="line">                end = mid;</div><div class="line">            &#125; else if (target &gt; nums[mid]) &#123;</div><div class="line">                start = mid;</div><div class="line">            &#125; else &#123;</div><div class="line">                end = mid;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        if (target == nums[start]) return start;</div><div class="line">        if (target == nums[end]) return end;</div><div class="line">        return -1;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="question-3-last-position-of-target">Question 3: last-position-of-target</h3>
<p>给一个升序数组，找到target最后一次出现的位置，如果没出现过返回-1</p>
<h3 id="code">Code</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    /**</div><div class="line">     * @param A an integer array sorted in ascending order</div><div class="line">     * @param target an integer</div><div class="line">     * @return an integer</div><div class="line">     */</div><div class="line">    public int lastPosition(int[] A, int target) &#123;</div><div class="line">        // Write your code here</div><div class="line">        if (A == null || A.length == 0)&#123;</div><div class="line">            return -1;</div><div class="line">        &#125;</div><div class="line">        int start = 0;</div><div class="line">        int end = A.length - 1;</div><div class="line">        while (start + 1 &lt; end) &#123;</div><div class="line">            int mid = start + (end - start) / 2;</div><div class="line">            if (target == A[mid]) &#123;</div><div class="line">                //difference with the above questions</div><div class="line">                start = mid;</div><div class="line">            &#125; else if (target &gt; A[mid]) &#123;</div><div class="line">                start = mid;</div><div class="line">            &#125; else &#123;</div><div class="line">                end = mid;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        //check end element first</div><div class="line">        if (target == A[end]) &#123;</div><div class="line">            return end;</div><div class="line">        &#125;</div><div class="line">        if (target == A[start]) &#123;</div><div class="line">            return start;</div><div class="line">        &#125;</div><div class="line">        return -1;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="question-4-search-insert-position">Question 4: search-insert-position</h3>
<p>Given a sorted array and a target value, return the index if the target is found. If not, return the index where it would be if it were inserted in order.</p>
<p>You may assume NO duplicates in the array.</p>
<p>[1,3,5,6], 5 → 2</p>
<p>[1,3,5,6], 2 → 1</p>
<p>[1,3,5,6], 7 → 4</p>
<p>[1,3,5,6], 0 → 0</p>
<h3 id="code">Code</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">public class Solution &#123;</div><div class="line">    /**</div><div class="line">     * param A : an integer sorted array</div><div class="line">     * param target :  an integer to be inserted</div><div class="line">     * return : an integer</div><div class="line">     */</div><div class="line">    public int searchInsert(int[] A, int target) &#123;</div><div class="line">        // write your code here</div><div class="line">        if ( A == null || A.length == 0) return 0;</div><div class="line">        int start = 0;</div><div class="line">        int end = A.length - 1;</div><div class="line">        while (start + 1 &lt; end) &#123;</div><div class="line">            int mid = start + (end - start) / 2;</div><div class="line">            if (target == A[mid]) &#123;</div><div class="line">                return mid;</div><div class="line">            &#125; else if (target &gt; A[mid]) &#123;</div><div class="line">                start = mid;</div><div class="line">            &#125; else &#123;</div><div class="line">                end = mid;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        if (target &lt;= A[start]) return start;</div><div class="line">        if (target &lt;= A[end]) return end;</div><div class="line">        return end + 1;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h3 id="question-5-search-in-a-big-sorted-array">Question 5: Search in a big sorted array</h3>
<p>Given a big sorted array with positive integers sorted by ascending order. The array is so big so that you can not get the length of the whole array directly, and you can only access the kth number by ArrayReader.get(k) (or ArrayReader-&gt;get(k) for C++). Find the first index of a target number. Your algorithm should be in O(log k), where k is the first index of the target number.
Return -1, if the number doesn't exist in the array.</p>
<h3 id="explanation">Explanation</h3>
<p>本题和上面考察如何在一个array中找到一个数不同的是，这个array会非常大。所以要考虑的是如何“倍增”的问题。增到大于target就可以了，接下来找到最初出现的问题。</p>
<h3 id="code">Code</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">class Solution &#123;</div><div class="line">    /**</div><div class="line">     * @param nums: The integer array.</div><div class="line">     * @param target: Target to find.</div><div class="line">     * @return: The first position of target. Position starts from 0.</div><div class="line">     */</div><div class="line">    public int binarySearch(int[] nums, int target) &#123;</div><div class="line">        //write your code here</div><div class="line">        if (nums == null || nums.length == 0) return -1;</div><div class="line">        int end = 0;</div><div class="line">        while (end &lt; nums.length &amp;&amp; nums[end] &lt; target) &#123;</div><div class="line">          end = end * 2 + 1;</div><div class="line">        &#125;</div><div class="line">        if (end &gt;= nums.length) end = nums.length - 1;</div><div class="line">        int start = 0;</div><div class="line">        while (start + 1 &lt; end) &#123;</div><div class="line">            int mid = start + (end - start) / 2;</div><div class="line">            if (target == nums[mid]) &#123;</div><div class="line">                end = mid;</div><div class="line">            &#125; else if (target &gt; nums[mid]) &#123;</div><div class="line">                start = mid;</div><div class="line">            &#125; else &#123;</div><div class="line">                end = mid;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        if (target == nums[start]) return start;</div><div class="line">        if (target == nums[end]) return end;</div><div class="line">        return -1;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Install Sudo in Debian]]></title>
      <url>http:starllap.space/2017/04/28/Install-Sudo-in-Debian/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>Debian系统里默认是没有sudo的，安装操作如下。</p>
<p>Step 1: 用root的身份进入<br>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">su -u</div></pre></td></tr></table></figure></p>
<p>Step 2: 安装sudo
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">apt-get install sudo</div></pre></td></tr></table></figure></p>
<p>Step 3: 把你的用户名加入sudoer列表中
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vi /etc/sudoers</div></pre></td></tr></table></figure></p>
<p>编辑此文件，加入这样一句：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">star ALL=(ALL:ALL) ALL</div></pre></td></tr></table></figure></p>
<p>Step 4: 退出root，测试sudo
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">exit</div><div class="line"></div><div class="line">sudo su -</div></pre></td></tr></table></figure></p>
<p>Done!</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[论文笔记：《Stronger consistency and semantics for low-latency geo-replicated storage》]]></title>
      <url>http:starllap.space/2017/04/11/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0%EF%BC%9A%E3%80%8AStronger-consistency-and-semantics-for-low-latency-geo-replicated-storage%E3%80%8B/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>本文是《Stronger consistency and semantics for low-latency geo-replicated
storage》的阅读笔记。</p>
<p>(未完成更新...)</p>
<h3 id="背景">背景</h3>
<h4 id="地理复制geo-replication">地理复制（Geo-replication）</h4>
<p>如今大型的网络服务常常需要大规模数据存储，需要支持上百万的并行用户对数据进行操作。在这些系统中，数据中心往往会对数据进行完全备份，也就是在每一个数据中心中都存储全部的数据。比如Facebook会把所有用户信息存在每个数据中心中。像这样讲数据备份在不同地理位置的方式称为：地理复制（Geo-replication）。<br>
地理复制有两个好处：容错和低延迟。一个地理位置的数据库挂掉了，其他的可以继续提供服务。用户可以选择离自己最近的那个服务。</p>
<h4 id="数据分区">数据分区</h4>
<p>在大规模数据库中，每一个数据中心的数据会非常大，常常需要分布在上万的机器中，常用的一个技术叫做分区（sharding），就是把不同部分的数据房子啊不同的服务器中。当有新的机器增加时，就需要重新进行分区。所以总而言之，在不同地理区域的数据是重复的，每个地区的数据则是分区存放的。</p>
<p>为了达到更少的round trop time也就是RTT，也就会从用户发出请求到返回的网络延迟，最重要的就是要减少到达数据存储之间延迟。一种方式就是尽量从本地获取。如图所示：</p>
<p><img src="http://i.imgur.com/oyQ8t2X.png" alt=""></p>
<h4 id="local-replica-only">Local-replica-only</h4>
<p>从最近的地方读写是最快的。读从最近的数据中心读取，就不会去远程获取。写的是后也是在这个数据中心中更新，在更新远程数据中心之前就返回结果。这种设计称为“local-replica-only”数据库设计，就是为了减少远程获取，来得到数据中心之间RTT最短时间。然而这种“Local-replica-only”的设计往往会达不到强一致性。</p>
<h4 id="linearizability线性一致化">Linearizability线性一致化</h4>
<p>Linearizability是一种强一致性模型。也就是说如果写完之后，在另一个数据中心读取时，就需要有刚刚写的更新。所以理论上来说，低延迟和强一致性往往是trade-off的关系。</p>
<h4 id="alps系统">ALPS系统</h4>
<p>通过CAP理论，我们已经知道，一个系统无法同时达到Consistency，Availability和Partition-tolerance。因此，现代的网络服务通常牺牲了强一致性来满足可用性和分区容忍性。这类系统可以命名为“ALPS系统”，满足可用性，低延迟，分区容忍和高可拓。</p>
<p>鉴于ALPS系统必须牺牲强一致性，我们就来探索一下在ALSP束缚下最强的一致性可以达到什么程度。这里，我们提出casual consistency with convergent conflict handling,也就是casual+一致性。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[论文笔记：Facebook可扩展架构概览]]></title>
      <url>http:starllap.space/2017/03/29/%E8%AE%BA%E6%96%87%E7%AC%94%E8%AE%B0%EF%BC%9AFacebook%E5%8F%AF%E6%8B%93%E5%B1%95%E6%9E%B6%E6%9E%84%E6%A6%82%E8%A7%88/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>本文是论文《Overview of Facebook Scalable Architecture》的阅读笔记，作者Hugo Barrigas, Daniel Barrigas, Melyssa Barata, Pedro Furtado, Jorge Bernardina。技术细节很少，只是一个粗略的大框架。其实根本也没有讲什么细节，所以以后有更多补充再往里写。感觉最大的亮点就是<strong>MySQL+Memcached</strong>。</p>
<hr>
<p>这篇文章主要是介绍Facebook的网站架构，讲述在扩展方面遇到的困难和解决的方式，从而更好了解Facebook是如何运行的。
对于大型分布式系统来说，可拓展性是网络、系统和进程中非常重要的指标。它标志着是否有成长的能力，是否能处理增长的工作量。
规模只是拓展需要考虑的一个方面。可拓展性包含如下几个方面：<br>
a. 是否能轻松增加存储能力<br>
b. 能处理多少增加的traffic<br>
c. 能多运行多少事务</p>
<h3 id="facebook网站架构">Facebook网站架构</h3>
<h4 id="facebook如何运作">Facebook如何运作</h4>
<p>随着用户增加，Facebook做了一些改动，但依旧使用LAMP（Linux-Apache-Memcached-PHP）模式：
a. 依旧使用PHP，但写了一个将PHP转成C++的编译器来提高服务器的性能。
b. 依旧使用Linux但进行了一些优化。
c. 最具有争议的事情是使用MySQL，它依旧是最主要的数据库。
另外Facebook还有两个自己系统：</p>
<ol>
<li>Haystack：高拓展，用来存储大量的图片。</li>
<li>Scribe：一个可拓展的登录系统。</li>
</ol>
<h4 id="facebook前端">Facebook前端</h4>
<p>前端是把LAMP服务器运行在Memcache上。</p>
<h5 id="linux-amp-apache">Linux &amp; Apache</h5>
<p>Facebook使用Linux和Apache HTTP Server</p>
<h5 id="php-amp-bigpipe">PHP &amp; BigPipe</h5>
<p>BigPipe是Facebook开发的动态网页系统。主要就是把各个部分通过不同的步骤在浏览器和服务器中完成。
比如：</p>
<p>￼￼￼<img src="http://i.imgur.com/QpgOhQI.png" alt=""></p>
<h5 id="hiphop">HipHop</h5>
<p>将PHP编译成C++的编译器。一些关键点：</p>
<ul>
<li>是PHP编译器</li>
<li>容易增加插件</li>
<li>极大减少了CPU和内存的使用量</li>
</ul>
<p><img src="http://i.imgur.com/SH8jSfb.png" alt=""></p>
<h4 id="facebook后端">Facebook后端</h4>
<h5 id="mysql">MySQL</h5>
<p>Facebook在MySQL的使用上运用了sharding和caching的技术。
为了让MySQL可拓展，主要的解决方案就是sharding。也就是数据库被分为几个部分，而且90%的query都存在缓存里，并不需要去数据库里取。Facebook非常依赖Memcached，并且值得一提的是Facebook在多个数据中心中有好几千个MySQL的服务器。另外，Facebook一些复杂的Join操作都是在服务器层面跑的，而不是直接在表上跑。（怎么做到的...不清楚技术细节）</p>
<h5 id="scribe">Scribe</h5>
<p>Scribe是Facebook的登录系统。Scribe主要做的就是从多个服务器端读取整合数据，然后把信息传送给Hadoop：
<img src="http://i.imgur.com/NkAvOBJ.png" alt=""></p>
<h5 id="thrift">Thrift</h5>
<p>Thrift协议提供不同语言之间的序列化，从而使Facebook支持不同语言共同开发应用。</p>
<h4 id="memcached">Memcached</h4>
<p>Memcache是键值对内存存储缓存系统。</p>
<p><img src="http://i.imgur.com/KEljkA5.png" alt=""></p>
<h4 id="hadoop-amp-hive">Hadoop &amp; Hive</h4>
<p><img src="http://i.imgur.com/Zko5phE.png" alt=""></p>
<h4 id="haystack">Haystack</h4>
<p>Haystack是在主内存中加入了可拓展的缓存：</p>
<p><img src="http://i.imgur.com/XT5VIhG.png" alt=""></p>
<h3 id="主体架构">主体架构</h3>
<p><img src="http://i.imgur.com/HWAy2UQ.png" alt=""></p>
<hr>
<p><em>REFERENCES：</em></p>
<p>[1] Building Scalable Web Architecture and Distributed Systems http://www.drdobbs.com/web-development/building-scalable-web-architecture-and-d/240142422, (Accessed 26 January , 2014)</p>
<p>[2] How Does Facebook Work? The Nuts and Bolts [Technology Explained] http://www.makeuseof.com/tag/facebook-work-nuts-bolts-technology-explained/ (Accessed 25 February 2014)</p>
<p>[3] Lloys G. W. Lloyd and Connie U. S. 2008. Scalable Query Result Caching for Web Applications. PVLDB vol. 1 no. 1 pp. 550-561, 2008</p>
<p>[4] Parris I., Abdesslem F. B., and Henderson T. 2012. Facebook or Fakebook? The effect of simulation on location privacy user studies. Ad Hoc Networks vol. 12 pp. 35-49</p>
<p>[5] Performance and scalability techniques 101 http://www.webforefront.com/performance/scaling101.html , (Accessed 30 January 2014)</p>
<p>[6] Scaling the Messages Application Back End
https://www.facebook.com/note.php?note_id=10150148835363920 (Accessed 25 February 2014)</p>
<p>[7] The effects of teacher self-disclosure via Facebook on
teacher credibility
http://www.gtaan.gatech.edu/meetings/handouts/MazerFacebook.pdf (Accessed 25 February 2014)</p>
<p>￼</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[分布式系统知识整理：二阶段提交协议、三阶段提交协议]]></title>
      <url>http:starllap.space/2017/03/29/%E5%88%86%E5%B8%83%E5%BC%8F%E4%B8%80%E8%87%B4%E6%80%A7/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>本文梳理分布式系统中的常见概念：二阶段提交协议和三阶段提交协议。</p>
<h2 id="二阶段提交协议two-phase-commit-protocol">二阶段提交协议(Two-phase Commit Protocol)</h2>
<p>TPC是基于分布式系统架构下所有节点进行事务提交时保持<strong>一致性</strong>而设计的一种算法。在分布式系统中，每个节点虽然可以知晓自己操作的成功或失败，但无法知道其他节点的情况。需要一个协调者来组织所有节点的操作结果并最终指示他们是否进行真正的提交。</p>
<h3 id="第一阶段投票阶段">第一阶段：投票阶段</h3>
<p>1）协调者给参与者发送信息，询问是否vote，等待响应。<br>
2）参与者节点执行事务操作，写本地的redo和undo日志，但不提交。<br>
3）参与者回复协调者，如果实务操作执行成功，返回“同意”。否则，返回“中止”。</p>
<h3 id="第二阶段提交阶段">第二阶段：提交阶段</h3>
<p>a.如果第一阶段所有参与者提交都为“同意”：<br>
1）协调者给参与者发送“是否正式提交”的询问。<br>
2）参与者正式完成操作，释放资源。<br>
3）参与者返回“完成”信息。<br>
4）协调者收到所有“完成”信息，完成事务。</p>
<p>b.如果第一阶段有参与者提交“中止”：<br>
1）协调者向所有参与者节点发出“回滚”的请求。<br>
2）参与者利用undo信息执行回滚，释放在整个事务占用的资源。<br>
3）参与者返回“回滚完成”信息。<br>
4）协调者收到所有参与者的“回滚完成”后，取消事务。</p>
<p>整个过程如图所示：</p>
<p><img src="http://i.imgur.com/J1kzk7I.png" alt=""></p>
<h3 id="存在的问题">存在的问题</h3>
<ol>
<li>节点在等待消息处于阻塞的状态，节点中的其他进程需要等待阻塞进程释放资源。</li>
<li>如果参与者故障，协调者需要给每个参与者制定超时机制，超时后整个事务失败。TPC没有容错机制，一个节点故障整个事务都要回滚，代价很大。</li>
<li>如果协调器发生故障，参与者无法完成事务，就会一直阻塞下去。</li>
<li>如果协调者发出commit消息之后宕机，唯一接收到消息的参与者也同时宕机了，即使协调者通过选举产生了新协调者，这条事务的状态是无人知晓的。</li>
</ol>
<p>因此，后来产生了三阶段提交协议。</p>
<h2 id="三阶段提交协议three-phase-commit-protocol">三阶段提交协议(Three-phase Commit Protocol)</h2>
<p>非阻塞协议。</p>
<p>两方面的改动：</p>
<ol>
<li>引入超时机制，协调者和参与者都引入超时机制。</li>
<li>在TPC的第一阶段和第二阶段之间插入了一个准备阶段，保证在最后提交阶段之前各参与节点的状态是一致的。</li>
</ol>
<p><img src="http://i.imgur.com/YLxLPqR.png" alt=""></p>
<hr>
<p><em>References:</em></p>
<ol>
<li>3.1.4 Two-phase commit: http://itdoc.hitachi.co.jp/manuals/3000/30003D5030e/DESC0050.HTM</li>
<li>Wikipedia:<br>
https://zh.wikipedia.org/zh-hans/%E4%BA%8C%E9%98%B6%E6%AE%B5%E6%8F%90%E4%BA%A4</li>
<li>分布式协议之两阶段提交协议（2PC）和改进三阶段提交协议（3PC）:     http://www.mamicode.com/info-detail-890945.html</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[云计算知识整理：使用Apache Kafka和Samza进行流处理]]></title>
      <url>http:starllap.space/2017/03/25/%E4%BA%91%E8%AE%A1%E7%AE%97%E7%9F%A5%E8%AF%86%E6%95%B4%E7%90%86%EF%BC%9A%E4%BD%BF%E7%94%A8Apache-Kafka%E5%92%8CSamza%E8%BF%9B%E8%A1%8C%E6%B5%81%E5%A4%84%E7%90%86/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>本文是关于Stream Processing with Kafka and Samza的介绍以及总结反思。</p>
<h3 id="流处理">流处理</h3>
<p>如今实时数据处理的需求越来越高，实时数据的来源包括传感器数据（比如物联网设备），社交网络交互，实时商业数据等。这些情况下需要极其的延迟率。比如LinkedIn就需要用实时的广告点击数据来不断扩充广告架构。类似Hadoop和Spark这种数据获取和数据处理分离的方式无法达到低延迟的实时处理需求。所以在这里就介绍一写管理和处理大量实时数据的流处理框架。</p>
<h3 id="apache-kafka">Apache Kafka</h3>
<p>Kafka是分布式发布-订阅消息系统。由linkedin开发，后来成为Apache项目的一部分。发布者把消息放在不同的classes里，并不知道订阅者会如何使用这些数据。而订阅者可以订阅特定的消息并且只能收到相应的消息。Kafka使用commit log来保持数据，commit log是按顺序的，不可修改的，只能添加的数据结构。Kafka最大的优势是它提供完整的数据结构，所有的组织里的系统能够独立和可靠地获取数据。可以认为Kafka是流数据源。以下为一些主要Kafka术语：</p>
<ul>
<li>
<p>Topic:
表示一个用户定义的类型，消息会在这个类别下发布。主要用partitioned log来维护。</p>
</li>
<li>
<p>Producers:
用来向Kafka集群中发布一个或多个topic信息的进程。</p>
</li>
<li>
<p>Consumers：
用来向Kafka集群中读取消息的进程。</p>
</li>
<li>
<p>Partitions：
topics被分为多个partitions。一个partition代表一个并行单位。总的来说，partition越多，吞吐量越多。每个partition中的每个信息都有特定的偏移量，这样数据消费者能借此定位。简单来说，我们认为Kafka会根据key来给数据排序并提供，类似于MapReduce中的Map和Shuffle的阶段。</p>
</li>
<li>
<p>Brokers：
Brokers用来负责数据持久化和复制。brokers会和producers交流来发布信息给Kafka集群，和consumers交谈来获取信息。</p>
</li>
</ul>
<p><img src="http://i.imgur.com/sVrZDbo.png" alt=""></p>
<p>值得注意的是，kafka不会运行处理数据，只是一种存储和分类流数据的一种方式。在这个Project里，你需要用Samza来处理Kafka提供的数据流。</p>
<p>可以看下这个视频（通常搞不懂一个概念的时候我都是查youtube_(:зゝ∠)_ ）<a href="https://www.youtube.com/watch?v=Q5wOegcVa8E" target="_blank" rel="external">Understanding Kafka with Legos</a></p>
<h3 id="apache-samza">Apache Samza</h3>
<p>Samza是由Linkedin开发的分布式流处理框架，以下为三层流处理框架中的关键组件：</p>
<ul>
<li>Streaming：这一层是用partitioned stream的方式提供输入，这里也就是Kafka</li>
<li>Execution:在不同的机器间调度协调任务，这里使用YARN</li>
<li>Processing：负责具体的数据处理，这里使用Samza</li>
</ul>
<p>Samza相关的术语包括：</p>
<ul>
<li>Streams：等同于Kafka的topics</li>
<li>Jobs：使用Samza API来从一个或多个流读取和处理数据。一个Job可能被分割成不同的task，每个task可能会使用输入流中的一个或多个partition</li>
<li>Stateful Stream Processing：流处理可以分为有状态和无状态。</li>
</ul>
<p><img src="http://i.imgur.com/8497uxN.png" alt="">
<img src="http://i.imgur.com/TJSfPwq.png" alt=""></p>
<p>Samza结构：
<img src="http://i.imgur.com/53TilKn.png" alt=""></p>
<h3 id="samza-api">Samza API</h3>
<p>Samza API简单抽象，以一个ExampleCode为例，看Twitter类似的实时信息如何展示：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">￼public class FanOutTask implements StreamTask, InitableTask, WindowableTask &#123;</div><div class="line">   private KeyValueStore&lt;String, String&gt; socialGraph;</div><div class="line">   private KeyValueStore&lt;String, Map&lt;String, Object&gt;&gt; userTimeline;</div><div class="line">   private long numMessages = 0;</div><div class="line">   @Override</div><div class="line">   @SuppressWarnings(&quot;unchecked&quot;)</div><div class="line">   public void init(Config config, TaskContext context) throws Exception &#123;</div><div class="line">     socialGraph = (KeyValueStore&lt;String, String&gt;) context.getStore(&quot;social-graph&quot;);</div><div class="line">     userTimeline = (KeyValueStore&lt;String, Map&lt;String, Object&gt;&gt;) context.getStore(&quot;user-timelin</div><div class="line"> e&quot;);</div><div class="line">&#125;</div><div class="line">   @Override</div><div class="line">   @SuppressWarnings(&quot;unchecked&quot;)</div><div class="line">   public void process(IncomingMessageEnvelope envelope, MessageCollector collector, TaskCoordin</div><div class="line"> ator coordinator) &#123;</div><div class="line">     String incomingStream = envelope.getSystemStreamPartition().getStream();</div><div class="line">     if (incomingStream.equals(NewsfeedConfig.FOLLOWS_STREAM.getStream())) &#123;</div><div class="line">       processFollowsEvent((Map&lt;String, Object&gt;) envelope.getMessage());</div><div class="line">     &#125; else if (incomingStream.equals(NewsfeedConfig.MESSAGES_STREAM.getStream())) &#123;</div><div class="line">       processMessageEvent((Map&lt;String, Object&gt;) envelope.getMessage(), collector);</div><div class="line">     &#125; else &#123;</div><div class="line">       throw new I</div></pre></td></tr></table></figure></p>
<p>所有的Samza Jobs都要完成 StreamTask接口，有的时候还需要完成InitableTask和WindowableTask接口。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[云计算应用实例：OFA/Start-ups/Data Analytics/Cloud Migration Exercise]]></title>
      <url>http:starllap.space/2017/03/06/%E4%BA%91%E8%AE%A1%E7%AE%97%E5%BA%94%E7%94%A8%E5%AE%9E%E4%BE%8B%EF%BC%9AObama-For-America/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>本文主要是总结一些云计算的应用实例，是否要用云计算这个问题是个很复杂的问题，大多数时候需要根据需求和预算才能得到确切的答案，云计算是趋势，但如何利用是个值得仔细考虑的问题。</p>
<h1 id="云计算应用实例obama-for-america">云计算应用实例：Obama For America</h1>
<blockquote>
<p>Obama For America（OFA）是云计算一个经典实例，云计算被运用在筹集竞选资金、分析竞争对手、有效使用竞选资金等都为奥巴马的连任成功提供了极大的保障。</p>
</blockquote>
<h2 id="ofa是什么">OFA是什么？</h2>
<p>OFA利用数据集成和预测分析使奥巴马赢得了选举，主要通过数据挖掘来确定及影响摇摆州的投票目标。OFA的数据来源包含：人口数据，投票历史数据，筹款数据，志愿者数据，社交网络数据以及投票数据，得到相关数据后，通过上门拜访，打电话，邮件，信件，网络广告，社交媒体，付费电视和网站等方式来影响投票人的决定。</p>
<h2 id="ofa的一些数据">OFA的一些数据</h2>
<p>根据DevOps的负责人透露，OFA的一些关键数据包括：</p>
<ul>
<li>4Gbps带宽</li>
<li>每秒10,000条请求</li>
<li>2,000个数据节点</li>
<li>3个数据中心</li>
<li>180TB数据量</li>
<li>共约85亿条请求</li>
<li>从设计到部署到应用共用了583天</li>
<li>最多30分钟的宕机时间</li>
<li>技术团队共40人</li>
</ul>
<h2 id="核心应用">核心应用</h2>
<p>Obama For America团队一共构建了200个应用，包括：</p>
<h3 id="narwhal">Narwhal</h3>
<p>Narwhal是一个python写的REST API，可调用存放的所有数据。在OFA中，大多数数据存放在MySQL为主的关系型数据库中，但也使用了PostgresDB, MS SQL Server, MongoDB, Vertica, LevelDB, S3, DynamoDB, SimpleDB数据库。除数据存储之外，主要应用了AWS EMR(Elastic MapReduce service)和Vertica来处理大量的数据建模和分析的工作。</p>
<h3 id="calltool">CallTool</h3>
<p>CallTool可以用来让志愿者给投票人打电话。在选举的最后四天里，这个工具被1000多个志愿者给超过百万的投票人打了电话。工具可以将志愿者和投票人进行配对。团队在其中应用了AWS的auto-scalling功能在需求高峰能够快速增加云资源。</p>
<h3 id="dashboard">DashBoard</h3>
<p>一个用来登记志愿者信息，并允许志愿者查看相应进度和收集到的信息的Rails线上应用工具。</p>
<h3 id="dreamcatcher">Dreamcatcher</h3>
<p>Dreamcatcher可以通过处理社交网络上的政治舆情，精确确定目标投票人，并赢得投票人。</p>
<h3 id="gotv">GOTV</h3>
<p>GOTV即Get out the vote，这个应用用来动员支持者将支持转化为投票。</p>
<h2 id="aws如何帮助了ofa">AWS如何帮助了OFA?</h2>
<p>OFA所有的应用几乎都部署在AWS云端，他们应用了分布消息队列，NoSQL和SQL数据库，虚拟私有云服务，负载均衡，内容传输网络等服务。
除了能够应对大规模数据处理需求之外，还能够在需求高峰通过自动增加云计算资源保证响应速度。另外，团队在数据备份上也充分利用了云计算的优势。</p>
<p><img src="http://i.imgur.com/LZfspfL.png" alt=""></p>
<p><img src="http://i.imgur.com/6DnWTB5.png" alt=""></p>
<p><img src="http://i.imgur.com/TJaoYcR.png" alt=""></p>
<p><img src="http://i.imgur.com/vE7R4Ui.png" alt=""></p>
<hr>
<p><strong>Reference:</strong></p>
<blockquote>
<ol>
<li><a href="https://gigaom.com/2012/11/12/how-obamas-tech-team-helped-deliver-the-2012-election/" target="_blank" rel="external">How Obama’s tech team helped deliver the 2012 election</a></li>
<li>Wikipedia:<a href="https://en.wikipedia.org/wiki/Organizing_for_America" target="_blank" rel="external">Organizing for America</a></li>
<li>CMU 15719 slides</li>
<li><a href="http://www.informationweek.com/cloud/6-ways-amazon-cloud-helped-obama-win/d/d-id/1107433" target="_blank" rel="external">6 Ways Amazon Cloud Helped Obama Win</a></li>
</ol>
</blockquote>
<h1 id="云计算应用实例start-ups">云计算应用实例：Start-ups</h1>
<h2 id="背景">背景</h2>
<p>对于Start-up来说，计算要求往往各种各样，需求量不大，变化却很快。在有限的预算下，还存在着硬件采购周期长，部署周期长，负担不起系统管理，数据中心能量供应，利用率低，灾难响应速度低等问题。</p>
<p>所以，云计算成为了Start-up的一种选择。举个栗子：</p>
<h3 id="gosquared">GoSquared</h3>
<p>GoSquared是一家提供线上实时数据网站分析的企业，被TechCrunch报道后，使用量忽然增加，没有足够的资源应对增长，最终把网站搬到了AWS上，可以迅速得到更多资源，快速拓展。</p>
<p><strong>Reference</strong></p>
<blockquote>
<p><a href="https://aws.amazon.com/solutions/case-studies/gosquared/" target="_blank" rel="external">AWS case study: GoSquared</a></p>
</blockquote>
<h1 id="云计算应用实例data-analytics">云计算应用实例：Data Analytics</h1>
<p>如今企业决策都讲究数据驱动，层出不穷的多媒体数据往往有不同的数据来源，从text到图片到音频和视频。数据处理还分为批处理和流处理。如今，传统的数据处理流程也慢慢转向了云端。</p>
<h2 id="数据处理流程图">数据处理流程图</h2>
<p><img src="http://i.imgur.com/7OTudIS.png" alt=""></p>
<h2 id="lambda架构">Lambda架构</h2>
<p>Lambda架构定义了一套明确的架构原则，同时利用批处理和流处理对大规模的数据进行处理。此框架的提出主要是为了解决这样的一个问题：如何实时地在任意大数据集上进行查询？</p>
<p>Lambda架构包含三层layer：</p>
<ul>
<li><strong>批处理层：写一次，批量读取多次</strong><br>
主要有Hadoop实现，负责数据存储和产生试图数据。当新数据到达时，会用MapReduce迭代地讲数据聚集到视图中。根据数据大小和集群的规模，迭代转换计算时间大约需要几小时。</li>
<li><strong>服务层：随机读取，不支持随机写入，批量计算和批量写入</strong><br>
这层由Cloudera Impala实现，对于上一层输出的一些列包含预计算视图的原始文件，服务层在Hive元数据层中创建一个表，元数据都指向HDFS中的文件，随后用户可以通过Impala查询到视图。这里服务层用Impala就是为了快速而且交互地查询到Hadoop存储和处理的数据。但是由于MapReduce在实时数据处理中的高延迟，我们还需要加速层。
在这一层中，需要合并处理Batch views和Real-time views得到最终user需要的query结果。</li>
<li><strong>加速层：随机读取，随机写入，增量计算</strong><br>
本层利用Strom框架计算实时视图，使用增量模型，将实时视图作为临时量，只要数据被传送到批处理层中，服务层相应的实时视图就会被丢掉。由于应用了增量模型，往往会比较复杂。</li>
</ul>
<p>所以，整个流程为，当数据进来时，会并行地进入到批处理层与加速层，当两者查询都完成在服务层整合好后，才算完成一次完整的查询。</p>
<p><img src="http://i.imgur.com/E2LbtPy.png" alt=""></p>
<p>但是这样令人激动的模型，还存在着一些争议，比如</p>
<ul>
<li>代码维护需要在两个复杂的分布式系统中进行，需要对不同的框架进行不同的编程。</li>
<li>在两个分布式系统中运行和维护程序任然很难，比如跨数据库系统中进行ORM（对象关系映射）就会比较难。</li>
</ul>
<p>关于Lambda框架的具体细节可参考这本书：<a href="https://www.manning.com/books/big-data" target="_blank" rel="external">《Big data: Principles and best practices of scalable realtime data systems》
</a>
其中除了介绍Lambda框架外，还重点放在了一些重要的地方：</p>
<ul>
<li>分布式思想</li>
<li>避免增量架构</li>
<li>创建再计算算法</li>
<li>数据相关性</li>
<li>关注数据不可变</li>
</ul>
<p>这张图很好诠释了Lambda是如何处理query的：
<img src="http://i.imgur.com/qcUMzoL.png" alt=""></p>
<p>随着发展，后来，Spark被认为是Lambda框架的合理实现。所以在这一部分，感觉写Lambda框架有点过时呢，但老师提到了就再理解一下。时代发展就是这样的，Lambda框架这种临时解决方案，会被更完美的方案取代。不过，不管怎样，人类的进步是令人欣喜的。关于Spark有空可以再写一篇具体一点的，amazing。</p>
<p><strong>References：</strong></p>
<blockquote>
<ol>
<li><a href="http://blog.csdn.net/john_f_lau/article/details/25502203" target="_blank" rel="external">大数据Lambda架构</a></li>
<li><a href="https://en.wikipedia.org/wiki/Lambda_architecture" target="_blank" rel="external">Wikipedia Lambda Architecture</a></li>
<li><a href="https://dzone.com/articles/lambda-architecture-with-apache-spark" target="_blank" rel="external">Lambda Architecture with Apache Spark</a></li>
</ol>
</blockquote>
<h1 id="云计算应用实例云迁移-究竟是否应该选择cloud">云计算应用实例：云迁移 （究竟是否应该选择Cloud？）</h1>
<p>对研究室来说，是应该使用预置的硬件，还是迁移到云端？
回答当然是，“It depends.”。</p>
<p>比如需求是这样：</p>
<p><img src="http://i.imgur.com/I3rZUZ1.png" alt=""></p>
<p>如果我们选择预置的机器，按照五年来算：
<img src="http://i.imgur.com/03678Pu.png" alt=""></p>
<p>有以下两种云计算的方案：
方案1：
<img src="http://i.imgur.com/9umJ84S.png" alt="">
方案2：
<img src="http://i.imgur.com/0yWhXho.png" alt=""></p>
<p>所以我们可以针对不同的需求、不同的云计算选择、不同的费用模型、不同的权限要求等来选择是否迁移到云端。</p>
<p>另外，在对比时，我们还需要考虑：</p>
<ul>
<li>对于本地预置机器：供电、散热、安全性等</li>
<li>对于云端：迁移到/迁出云端的成本等</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Binary Tree 二叉树]]></title>
      <url>http:starllap.space/2017/02/28/Binary%20Tree/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>本文是总结Tree这种结构的常用知识点，暂时总结Binary Tree。</p>
<h2 id="binary-tree二叉树">Binary Tree二叉树</h2>
<h3 id="why-tree">Why Tree?</h3>
<p>因为树结合了其他数据结构的优势：</p>
<ul>
<li>顺序数组： 用Binary Search查找会很快。</li>
<li>链表：插入和删除会非常快，不需要shift值。</li>
</ul>
<h3 id="基本概念">基本概念：</h3>
<ul>
<li>根： 树的顶部。</li>
<li>父节点</li>
<li>子节点</li>
<li>叶节点：没有子节点的节点。</li>
<li>Leve（高度）：代表有几代。</li>
</ul>
<h3 id="平衡树和非平衡树">平衡树和非平衡树</h3>
<p>平衡树：
左右子树及其的高度相差&lt;=1，并且左右子树也是平衡树。
<img src="http://i.imgur.com/8XBVd4y.png" alt=""></p>
<h3 id="full-tree-和-complete-tree">Full Tree 和 Complete Tree：</h3>
<ul>
<li>Full Tree:每个节点都有0/2个子节点。</li>
<li>Complete Tree:除了最右边的节点，其他节点都是满节点，并且都靠左。
<img src="http://i.imgur.com/Tp3azOo.png" alt=""></li>
</ul>
<h3 id="遍历顺序">遍历顺序：</h3>
<p><img src="http://i.imgur.com/MpkGahp.png" alt=""></p>
<h3 id="binary-tree代码实现">Binary Tree代码实现</h3>
<h4 id="binary-tree-interface">Binary Tree Interface</h4>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">public interface BSTInterface &#123;</div><div class="line"></div><div class="line">    /**</div><div class="line">     * Searches for the specified key in the tree.</div><div class="line">     * @param key key of the element to search</div><div class="line">     * @return boolean value indication of success or failure</div><div class="line">     */</div><div class="line">    boolean find(int key);</div><div class="line"></div><div class="line">    /**</div><div class="line">     * Inserts a new element into the tree.</div><div class="line">     * @param key key of the element</div><div class="line">     * @param value value of the element</div><div class="line">     */</div><div class="line">    void insert(int key, double value);</div><div class="line"></div><div class="line">    /**</div><div class="line">     * Deletes an element from the tree using the specified key.</div><div class="line">     * @param key key of the element to delete</div><div class="line">     */</div><div class="line">    void delete(int key);</div><div class="line"></div><div class="line">    /**</div><div class="line">     * Traverses and prints values of the tree in ascending order based on key.</div><div class="line">     */</div><div class="line">    void traverse();</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="binary-tree功能实现">Binary Tree功能实现</h4>
<ol>
<li>
<p>Find:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">public boolean find(int key) &#123;</div><div class="line">    // tree is empty</div><div class="line">    if (root == null) &#123;</div><div class="line">        return false;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    Node curr = root;</div><div class="line">    // while not found</div><div class="line">    while (curr.key != key) &#123;</div><div class="line">        if (curr.key &lt; key) &#123;</div><div class="line">            // go right</div><div class="line">            curr = curr.right;</div><div class="line">        &#125; else &#123;</div><div class="line">            // go left</div><div class="line">            curr = curr.left;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        // not found</div><div class="line">        if (curr == null) &#123;</div><div class="line">            return false;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    return true; // found</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>Insert
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">public void insert(int key, double value) &#123;</div><div class="line">    Node newNode = new Node(key, value);</div><div class="line">    // empty tree</div><div class="line">    if (root == null) &#123;</div><div class="line">        root = newNode;</div><div class="line">        return;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    Node parent = root; // keep track of parent</div><div class="line">    Node curr = root;</div><div class="line">    while (true) &#123;</div><div class="line">        // no duplicate keys allowed</div><div class="line">        // simply keep the existing one here</div><div class="line">        if (curr.key == key) &#123;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        parent = curr; // update parent</div><div class="line">        if (curr.key &lt; key) &#123;</div><div class="line">            // go right</div><div class="line">            curr = curr.right;</div><div class="line">            if (curr == null) &#123;</div><div class="line">                // found a spot</div><div class="line">                parent.right = newNode;</div><div class="line">                return;</div><div class="line">            &#125;</div><div class="line">        &#125; else &#123;</div><div class="line">            // go left</div><div class="line">            curr = curr.left;</div><div class="line">            if (curr == null) &#123;</div><div class="line">                // found a spot</div><div class="line">                parent.left = newNode;</div><div class="line">                return;</div><div class="line">            &#125;</div><div class="line">        &#125; // end of if-else to go right or left</div><div class="line">    &#125; // end of while</div><div class="line">&#125; // end of insert method</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>Delete
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line">public void delete(int key) &#123;</div><div class="line">    // empty tree</div><div class="line">    if (root == null) &#123;</div><div class="line">        return;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    Node parent = root;</div><div class="line">    Node curr = root;</div><div class="line">    /*</div><div class="line">     * flag to check left child</div><div class="line">     *</div><div class="line">     * need this flag because actual deletion process happens after the</div><div class="line">     * while loop that is to find the key to delete</div><div class="line">     */</div><div class="line">    boolean isLeftChild = true;</div><div class="line"></div><div class="line">    while (curr.key != key) &#123;</div><div class="line">        parent = curr; // update parent first</div><div class="line">        if (curr.key &lt; key) &#123; // go right</div><div class="line">            isLeftChild = false;</div><div class="line">            curr = curr.right;</div><div class="line">        &#125; else &#123; // go left</div><div class="line">            isLeftChild = true;</div><div class="line">            curr = curr.left;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        // case 1: not found</div><div class="line">        if (curr == null) &#123;</div><div class="line">            return;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    if (curr.left == null &amp;&amp; curr.right == null) &#123;</div><div class="line">        // case 2: leaf</div><div class="line">        if (curr == root) &#123;</div><div class="line">            root = null;</div><div class="line">        &#125; else if (isLeftChild) &#123;</div><div class="line">            parent.left = null;</div><div class="line">        &#125; else &#123;</div><div class="line">            parent.right = null;</div><div class="line">        &#125;</div><div class="line">    &#125; else if (curr.right == null) &#123;</div><div class="line">        // case 3: no right child</div><div class="line">        if (curr == root) &#123;</div><div class="line">            root = curr.left;</div><div class="line">        &#125; else if (isLeftChild) &#123;</div><div class="line">            parent.left = curr.left;</div><div class="line">        &#125; else &#123;</div><div class="line">            parent.right = curr.left;</div><div class="line">        &#125;</div><div class="line">    &#125; else if (curr.left == null) &#123;</div><div class="line">        // case 3: no left child</div><div class="line">        if (curr == root) &#123;</div><div class="line">            root = curr.right;</div><div class="line">        &#125; else if (isLeftChild) &#123;</div><div class="line">            parent.left = curr.right;</div><div class="line">        &#125; else &#123;</div><div class="line">            parent.right = curr.right;</div><div class="line">        &#125;</div><div class="line">    &#125; else &#123;</div><div class="line">        // case 4: with two children</div><div class="line">        // here we use successor but using predecessor is also an option</div><div class="line">        Node successor = getSuccessor(curr);</div><div class="line"></div><div class="line">        if(curr == root) &#123;</div><div class="line">            root = successor;</div><div class="line">        &#125; else if(isLeftChild) &#123;</div><div class="line">            parent.left = successor;</div><div class="line">        &#125; else &#123;</div><div class="line">            parent.right = successor;</div><div class="line">        &#125;</div><div class="line">        successor.left = curr.left;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>找到下一个节点
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line">/**</div><div class="line"> * Helper method to find the successor of the toDelete node.</div><div class="line"> * This tries to find the smallest value of the right subtree</div><div class="line"> * of the toDelete node by going down to the left most node in the subtree</div><div class="line"> * @param toDelete node to delete</div><div class="line"> * @return the successor of the toDelete node</div><div class="line"> */</div><div class="line">private Node getSuccessor(Node toDelete) &#123;</div><div class="line">    Node successorParent = toDelete;</div><div class="line">    Node successor = toDelete;</div><div class="line">    // start the search from the root of the right subtree</div><div class="line">    Node curr = toDelete.right;</div><div class="line"></div><div class="line">    // move down to left as far as possible in the right subtree</div><div class="line">    // successor&apos;s left child must be null</div><div class="line">    while (curr != null) &#123;</div><div class="line">        successorParent = successor;</div><div class="line">        successor = curr;</div><div class="line">        curr = curr.left;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    /*</div><div class="line">     * If successor is NOT the right child of the node to delete, then</div><div class="line">     * need to take care of two connections in the right subtree</div><div class="line">     */</div><div class="line">    if (successor != toDelete.right) &#123;</div><div class="line">        successorParent.left = successor.right;</div><div class="line">        successor.right = toDelete.right;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    return successor;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
<li>
<p>Traverse Binary Tree:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">public void traverse() &#123;</div><div class="line">    inOrderHelper(root);</div><div class="line">    System.out.println();</div><div class="line">&#125;</div><div class="line"></div><div class="line">private void inOrderHelper(Node toVisit) &#123;</div><div class="line">    if(toVisit != null) &#123;</div><div class="line">        inOrderHelper(toVisit.left);</div><div class="line">        System.out.print(toVisit);</div><div class="line">        inOrderHelper(toVisit.right);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
</li>
</ol>
<hr>
<p>Reference: @Terry Lee</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[云计算Project：Twitter大数据分析]]></title>
      <url>http:starllap.space/2017/02/27/%E4%BA%91%E8%AE%A1%E7%AE%97Project%EF%BC%9ATwitter%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>本文是Twitter Analytics on the Cloud项目的介绍及分析总结。小组作业当时做的匆忙，现在再思考下可以优化的地方很多。感谢队友@shuangshuang 和 @烟酱。</p>
<h2 id="项目介绍">项目介绍</h2>
<p>目标：</p>
<ul>
<li>在云上建立一个高性能又可靠的web服务。</li>
<li>设计，开发和部署并优化服务器以能够处理每秒上万次请求的高负载。</li>
<li>在一个1TB的数据集上完成ETL并载入到Mysql和HBase中。</li>
<li>设计MySQL和HBase并优化配置，提高性能。</li>
<li>探索基于云的web服务存在瓶颈的方法，并提高性能。</li>
</ul>
<h2 id="基本结构">基本结构：</h2>
<p>￼￼￼￼￼
<img src="http://i.imgur.com/qMn31B4.png" alt=""></p>
<h3 id="前端">前端：</h3>
<ul>
<li>通过HTTP GET请求访问web服务，不同的请求有不同的地址，后面有不同参数。</li>
<li>返回相应的响应时，必须要在持续若干个小时的测试中正常运行。</li>
<li>web服务不能拒绝请求，要能承受高负载。</li>
</ul>
<h3 id="后端">后端：</h3>
<ul>
<li>保存用来查询的数据文件</li>
<li>比较SQL(MySQL)和NoSQL(HBase)</li>
<li>比较不同数据集不同查询类型的表现，来决定如何实现后端。</li>
</ul>
<h3 id="数据集">数据集：</h3>
<p>Twitter数据集，大于1T，JSON格式存储。</p>
<h2 id="项目实战">项目实战</h2>
<h3 id="搭建前端">搭建前端：</h3>
<p>在搭建前端之前，需要慎重选择框架。对比主流web框架，参考<a href="https://www.techempower.com/benchmarks/" target="_blank" rel="external">Techempower</a>,我们最终选择用vertx和undertow进行开发。
具体可以参考一些比较好的配置指南：</p>
<p>Vertx:</p>
<p><a href="http://vertx.io/docs/" target="_blank" rel="external">vertx Document</a>
<a href="http://vertx.io/blog/my-first-vert-x-3-application/index.html" target="_blank" rel="external">My first Vert.x 3 Application</a></p>
<h4 id="前端优化">前端优化：</h4>
<ul>
<li>运用Cache，每次得到请求先check是否有缓存。当缓存满了的时候，就把最不常用的缓存踢出去。</li>
</ul>
<h3 id="etl">ETL:</h3>
<p>根据request设计好数据库的schema以后，要好好设计ETL。因为我们这里用EMR把twitter数据集载入到数据仓库中，每次需要10-20个小时，而EMR特别贵，所以最好不要重复劳动。最初，用小数据及来测试。</p>
<p>这一阶段我们要处理两类请求，从存储系统中获取数据，搭建好的web service 需要能够连接到两个不同的后端存储系统(MySQL 和 HBase)，前端需要通过端口 80 接收 HTTP GET 请求。</p>
<h4 id="操作过程">操作过程：</h4>
<p>这里主要要写一个Map和一个Reduce文件来处理数据。原始数据的格式是JSON，我们需要处理成需要的数据格式：</p>
<p>请求格式
userid+hashtag
<code>GET /q2?userid=uid&amp;hashtag=hashtag</code></p>
<p>响应格式 (如果Tweet存在)</p>
<ul>
<li>tweet 的 sentiment density</li>
<li>tweet 的发布时间</li>
<li>tweet id</li>
<li>审查修改过的的 tweet 内容，这里有很多可能出问题的地方，比如 emoji 表情、反斜杠、其他语言的字符等等</li>
</ul>
<p><code>TEAMID,TEAM_AWS_ACCOUNT_ID\n Sentiment_density1:Tweet_time1:Tweet_id1:Cencored_text1\n Sentiment_density2:Tweet_time2:Tweet_id2:Cencored_text2\n Sentiment_density3:Tweet_time3:Tweet_id3:Cencored_text3\n</code></p>
<p>响应格式 (如果Tweet不存在)
<code>TEAMID,TEAM_AWS_ACCOUNT_ID\n \n</code></p>
<p>map和reduce程序写完后，到EMR上面跑，要注意：</p>
<ul>
<li>现用小数据集测试。</li>
<li>注意各种小细节</li>
<li>关于EMR的操作，步骤之后有空总结下之前云计算的EMR project。</li>
</ul>
<h3 id="query-文本清理和分析">Query 文本清理和分析</h3>
<p>目标吞吐量： 10000 rps
不允许用现用的缓存设备，可以自己写缓存。
会查询某个用户用指定的 hashtag 发的 tweet，主要考察如何设计一个高效的后端来处理大量的请求。</p>
<h3 id="后端数据库">后端数据库</h3>
<p>ETL结束以后，我们需要导入数据库。在这个过程中，我们纠结于replication和sharding的选择。
Replication是指将完整的数据库存在每一台机器上，而Sharding是指分成几个部分分别存在每一台机器上。最终，选择了Sharding模式。</p>
<h4 id="数据库设计">数据库设计：</h4>
<p>按照我们刚刚说过的请求格式和响应格式，我们对MySQL和HBase进行设计：</p>
<h5 id="mysql">MySQL：</h5>
<h6 id="设计模式">设计模式：</h6>
<p>（这里参照了Yuki组的赢家设计模式，非常简单粗暴）
原来的schema是每一列都很清晰，但是这样row相比后面的设计模式多了很多，导致数据库的读取速度慢了很多。
所以新的schema就选择只存取id，读取所有的tweets以后，让前端进行相应的解析。</p>
<p><img src="http://i.imgur.com/Zmk6QUp.png" alt=""></p>
<h6 id="优化方法">优化方法：</h6>
<ul>
<li>建立索引Index</li>
<li>mysql有两个存储引擎，MyISAM和InnoDB，MyISAM适用于大量查寻，对写并不是非常友好，updata时会整表锁住。而InnoDB使用的是“行锁&quot;。
设置Key_buffer_size以及Query_cache_size到更高的值，可以增加缓冲容量。</li>
<li>设置所有column为not null，这样mysql不用预留空间检查null值。会提高读取速度。</li>
</ul>
<h5 id="hbase">HBase:</h5>
<p>鉴于HBase是key-value存储模式，我们在这里只要考虑key里怎么放，剩下的数据全都放到column family里面就可以了。
我们采用tweet_id + user_id + hashtag作为rowkey。</p>
<h6 id="优化方法摘自小土刀博客">优化方法（摘自小土刀博客）：</h6>
<p>1.分配合适的内存给 RegionServer 服务:
例如在 HBase 的 conf 目录下的 hbase-env.sh 的最后添加 export HBASE_REGIONSERVER_OPTS=”-Xmx16000m $HBASE_REGIONSERVER_OPTS”
其中 16000m 为分配给 RegionServer 的内存大小。</p>
<p>2.RegionServer 的请求处理 IO 线程数:
较少的 IO 线程适用于处理单次请求内存消耗较高的 Big Put 场景 (大容量单次 Put 或设置了较大 cache 的 Scan，均属于 Big Put) 或 ReigonServer 的内存比较紧张的场景。
较多的 IO 线程，适用于单次请求内存消耗低，TPS 要求 (每秒事务处理量 (TransactionPerSecond)) 非常高的场景。设置该值的时候，以监控内存为主要参考。
在 hbase-site.xml 配置文件中配置项为 hbase.regionserver.handler.count 200</p>
<p>3.调整 Block Cache:
hfile.block.cache.size：RS的block cache的内存大小限制，默认值0.25，在偏向读的业务中，可以适当调大该值，具体配置时需试hbase集群服务的业务特征，结合memstore的内存占比进行综合考虑。</p>
<h2 id="总结">总结：</h2>
<p>Team Project过去挺久了，很多细节记不得了，清洗数据的部分有很多细节需要注意，并不像这里写的一两句话就讲清楚了。还有数据库优化是一条不归路，盲目优化会导致反向优化，其实根据后来赢家的报告来看，优化并起不到多少作用，好的schema设计才是提高performance的最根本。
云计算这门课的精华，都在这个Project，覆盖了大部分这门课的所实验的知识。从load balance到sharding和replication，再到SQL和NoSQL数据库，再到EMR的应用，就差并行并发那部分的内容了。
学习是不难的，有指导来做project也不难，真正到了实际应用中，没有人知道正确答案，靠的都是思考和经验了。</p>
<p><strong>References：</strong></p>
<ol>
<li><a href="http://wdxtub.com/" target="_blank" rel="external">小土刀云计算语料分析&amp;反思课</a></li>
<li>小Yuki的Report</li>
</ol>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[云计算Project：基于多个后端的社交网络时间线的实现]]></title>
      <url>http:starllap.space/2017/02/23/%E4%BA%91%E8%AE%A1%E7%AE%97Project%EF%BC%9A%E5%9F%BA%E4%BA%8E%E5%A4%9A%E4%B8%AA%E5%90%8E%E7%AB%AF%E7%9A%84%E7%A4%BE%E4%BA%A4%E7%BD%91%E7%BB%9C%E6%97%B6%E9%97%B4%E7%BA%BF%E7%9A%84%E5%AE%9E%E7%8E%B0/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>本文是关于CMU15619Cloud Computing项目:<code>Social Networking Timeline with Heterogeneous Backends</code>的介绍以及总结反思。</p>
<p>项目主要目标：</p>
<ul>
<li>探索AWS的DBaas服务的申请、配置和管理</li>
<li>比较MySQL, HBase和MongoDB在使用Java API载入数据时的异同。</li>
<li>利用多个后端为同一个复杂的web应用提供数据。</li>
<li>比较不同数据库在实际应用中的特点。</li>
</ul>
<h2 id="背景介绍">背景介绍</h2>
<h3 id="dbaasdatabase-as-a-services">DBaas(Database-as-a-Services)：</h3>
<p>在AWS中，我们可以用其中的RDS的MySQL服务。</p>
<h3 id="mongodb">MongoDB：</h3>
<p>MongoDB是NoSQL数据库的典型，基于文档存储（Document-oriented），不支持事务和表连接，所以查询的编写、理解和优化比较容易。之后会写一篇关于NoSQL的总结（一个坑）。
和HBase的key-value存储模式不同，MongoDB基于文档存储模式的优势在于可以支持复杂的数据类型，并且也支持Index。
MongoDB使用BSON类型存储数据，据说就是把文本直接转成二进制表示，BSON用于以下三种目的：</p>
<ul>
<li>节省空间：BSON即使在最坏的情况下，也比普通的JSON占用空间少。</li>
<li>移动性</li>
<li>Performance：BSON对内容的编码和解码的速度快于很多编程语言。</li>
</ul>
<h3 id="数据结构-图">数据结构： 图</h3>
<h4 id="1邻接矩阵adjacent-matrix空间复杂度为on2">1.邻接矩阵Adjacent Matrix：空间复杂度为O（n^2)</h4>
<p>比如这个：
<img src="http://i.imgur.com/Qyrp0rL.png" alt="">
<img src="http://i.imgur.com/x2yyDEI.png" alt=""></p>
<h4 id="2邻接表adjacent-list-空间较少">2.邻接表Adjacent List 空间较少：</h4>
<p><img src="http://i.imgur.com/ofeLFxn.png" alt=""></p>
<h3 id="社交网络应用基础">社交网络应用基础：</h3>
<p>如今像Facebook, Twitter和Instagram都需要复杂和涉及良好的后端来处理多种类型的用户数据，提供持续的高性能低延迟的服务。同时还要通过实时数据分析为公司和广告商提供有价值的信息。</p>
<ul>
<li>不同的数据类型（Video，Text，Link，etc.)需要存在不同的数据库中）</li>
<li>一个简单的展示社交网络页面的HTTP请求会触发后端一系列的请求和数据库动作。可以参见下图：
<img src="http://i.imgur.com/r3gf00x.png" alt=""></li>
</ul>
<p>社交网络中的数据通常包括以下三种：</p>
<ul>
<li>用户信息：
<ul>
<li>身份验证系统</li>
<li>用户信息/简介</li>
<li>活动日志</li>
<li>社交关系图（在下面会进步介绍）</li>
</ul>
</li>
<li>用户活动：
<ul>
<li>用户产生的多媒体数据</li>
</ul>
</li>
<li>大数据分析系统：
<ul>
<li>搜索系统</li>
<li>推荐系统</li>
<li>用户行为分析（基于云数据仓库的OLAP，有机会单独更新这个部分）</li>
</ul>
</li>
</ul>
<p><img src="http://i.imgur.com/Qwd8z0q.png" alt=""></p>
<p>社交网络的前端已经做好，我们需要把四中不同的数据集存入三种数据库（MySQL, HBase, MongoDB),你完成的后端要能同时响应四中不同的request。</p>
<h2 id="项目操作">项目操作</h2>
<h3 id="通过rds的mysql实现基本登录">通过RDS的MySQL实现基本登录：</h3>
<p>在AWS RDS中配置MySQL并导入users.csv, userinfo.csv数据集。
连接AWS RDS中MySQL时注意：
远程登录需要导入数据时要加入 --local-infile得到授权。
<code>mysql -u username -p password -h hostname --port=portname --local-infile database</code></p>
<p>数据集格式:</p>
<ul>
<li>users.csv [UserID, Password]</li>
<li>userinfo.csv [UserID, Name, Profile Image URL]</li>
</ul>
<p>导入MySQL语句:
<code>LOAD DATA LOCAL INFILE 'filename' INTO TABLE tablename CHARACTER SET utf8mb4 FIELDS TERMINATED BY ',' LINES TERMINATED BY '\n';</code></p>
<p>请求格式:
<code>GET /task1?id=[UserID]&amp;pwd=[Password]</code></p>
<p>响应格式:
<code>returnRes({&quot;name&quot;:&quot;my_name&quot;, &quot;profile&quot;:&quot;profile_image_url&quot;})</code></p>
<p>所以，之后在Java文件中连接数据库，再创建JSON相应的代码即可。
测试：</p>
<ol>
<li>启动前后端服务器，访问<code>http://&lt;your_front_end_dns&gt;:3000</code></li>
<li>输入正确或错误的账号密码登录测试</li>
</ol>
<p><img src="http://i.imgur.com/rv5LnYr.png" alt=""></p>
<h3 id="利用hbase存储社交图谱">利用HBase存储社交图谱：</h3>
<p>用HBase来保存用户间的follow关系，可以选择用之前在图中介绍的邻接矩阵和邻接表中选择一种，来保存数据。
原始数据格式：
<code>&lt;followee, follower&gt;</code></p>
<p>请求格式：
<code>GET /task2?id=[UserID]</code></p>
<p>响应格式:
<code>{&quot;followers&quot;:[{&quot;name&quot;:&quot;follower_name_1&quot;, &quot;profile&quot;:&quot;profile_image_url_1&quot;}, {&quot;name&quot;:&quot;follower_name_2&quot;, &quot;profile&quot;:&quot;profile_image_url_2&quot;}, ...]}</code></p>
<h4 id="思路">思路：</h4>
<ul>
<li>在HBase中存成followee： follower1， follower2， ...的格式</li>
<li>设计好HBase之后导入数据</li>
<li>启动前后端服务器后访问http://&lt;your_front_end_dns&gt;:3000</li>
<li>输入userid进行测试</li>
</ul>
<h3 id="用mongdb搭建主页">用MongDB搭建主页：</h3>
<p>如之前介绍的那样，对于各种形式的帖子，用MongoDB存储会是一个很好的选择。这里会查询一些特定的field，所以可以建立索引来加速查询。</p>
<p>帖子数据的形式：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;pid&quot;:xxx,                                      // PostID</div><div class="line">    &quot;uid&quot;:xxx,                                      // UserID of poster</div><div class="line">    &quot;name&quot;:&quot;xxx&quot;,                                   // User name of poster</div><div class="line">    &quot;profile&quot;:&quot;xxx&quot;,                                // Poster profile image URL</div><div class="line">    &quot;timestamp&quot;:&quot;YYYY-MM-DD HH:MM:SS&quot;,              // When post is posted</div><div class="line">    &quot;image&quot;:&quot;xxx&quot;,                                  // Post image</div><div class="line">    &quot;content&quot;:&quot;xxx&quot;,                                // Post text content</div><div class="line">    &quot;comments&quot;:[                                    // comments json array</div><div class="line">        &#123;</div><div class="line">            &quot;uid&quot;:xxx,                              // UserID of commenter</div><div class="line">            &quot;name&quot;:&quot;xxx&quot;,                           // User name of commenter</div><div class="line">            &quot;profile&quot;:&quot;xxx&quot;,                        // Commenter profile image URL</div><div class="line">            &quot;timestamp&quot;:&quot;YYYY-MM-DD HH:MM:SS&quot;,      // When comment is made</div><div class="line">            &quot;content&quot;:&quot;xxx&quot;                         // Comment text content</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            &quot;uid&quot;:xxx,</div><div class="line">            .......</div><div class="line">        &#125;,</div><div class="line">        ......</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>关于MongoDB建立索引，可以参考<a href="https://docs.mongodb.com/manual/reference/method/db.collection.createIndex/" target="_blank" rel="external">这里</a></p>
<p>请求格式：
<code>GET /task3?id=[UserID]</code></p>
<p>响应格式：
<code>{&quot;posts&quot;:[{post1_json}, {post2_json}, ...]}</code></p>
<p>测试方法：</p>
<ul>
<li>启动前后端服务器，输入userid</li>
</ul>
<p><img src="http://i.imgur.com/8p2pep3.png" alt=""></p>
<h3 id="最终整合">最终整合</h3>
<p>之前三个部分分别实现了三个数据库的存储，现在我们希望实现输入一个userid就可以返回用户信息（MySQL),用户粉丝列表（HBase）以及用户关注的人最新三十条帖子（MongoDB）。</p>
<p>排序规则：</p>
<ul>
<li>对followers进行排序:
<ul>
<li>姓名升序排列</li>
<li>Profile image URL升序排列</li>
</ul>
</li>
<li>对最新30篇post排序：
<ul>
<li>按照timestamp升序排序</li>
<li>按照PostID升序排序</li>
</ul>
</li>
</ul>
<p>请求格式：
<code>GET /task4?id=[UserID]</code></p>
<p>响应格式:
<code>{&quot;name&quot;:&quot;my_name&quot;, &quot;profile&quot;:&quot;my_profile_image_url&quot;, &quot;followers&quot;:[{&quot;name&quot;:&quot;follower_name_1&quot;, &quot;profile&quot;:&quot;profile_image_url_1&quot;}, {&quot;name&quot;:&quot;follower_name_2&quot;, &quot;profile&quot;:&quot;profile_image_url_2&quot;}, ...], &quot;posts&quot;:[{post1_json, post2_json, ...}]}</code></p>
<p><img src="http://i.imgur.com/EpRB33c.png" alt=""></p>
<h3 id="简单推荐的实现">简单推荐的实现</h3>
<p>推荐系统的内容太多了，可以看看<a href="http://www.shuang0420.com/categories/Recommender-System/" target="_blank" rel="external">shaung的博客</a>（一个广告）
这次我们用协同过滤算法实现一个简单的推荐系统，利用“朋友的朋友”来推荐好友。</p>
<h4 id="graph-distance">Graph Distance：</h4>
<p>比如：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">A follows &#123;B, C, D&#125;</div><div class="line">Followee B follows &#123;C, E, A&#125;</div><div class="line">followee C follows &#123;F, G&#125;</div><div class="line">followee D follows &#123;G, H&#125;</div></pre></td></tr></table></figure></p>
<p><img src="http://i.imgur.com/83cuJ8G.png" alt="">
我们可以得到与A的距离关系为：
<code>{A:1, C:1, E:1, F:1, G:2, H:1}</code>
其中去掉A本身，去掉A已经关注的C，剩下的就是
<code>{G: 2, E: 1, F: 1, H: 1}</code></p>
<h4 id="思路">思路：</h4>
<ul>
<li>找到userid的关注的人的集合</li>
<li>将关注的人的集合中的每个人关注的人添加到信集合中，第一次出现则为1，之后的为原来的加1</li>
<li>用优先队列存储，注意第一个关注的人集合中的元素都不应该在此队列中</li>
<li>返回前十个的name和url，并返回</li>
</ul>
<p>请求格式：
<code>http://backend-public-dns:8080/MiniSite/task5?id=&lt;user_id&gt;</code></p>
<p>响应格式：
<code>returnRes({&quot;recommendation&quot;:[{name:&lt;name1&gt;, profile:&lt;profile1&gt;},{name:&lt;name2&gt;, profile:&lt;profile2&gt;},...,{name:&lt;name10&gt;, profile:&lt;profile10&gt;]})</code></p>
<p>Done!</p>
<p><strong>Reference：</strong><br>
CMU15619课件：<code>Social Networking Timeline with Heterogeneous Backends</code>
小土刀博客：<code>http://wdxtub.com/vault/cc-17.html</code></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java Interview Questions]]></title>
      <url>http:starllap.space/2017/02/11/Java-Interview-Questions/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>Always update...</p>
<h3 id="jvm-is-plantform-dependent">JVM is plantform dependent?</h3>
<blockquote>
<p>Is the JVM (Java Virtual Machine) platform dependent or platform independent? What is the advantage of using the JVM, and having Java be a translated language?</p>
</blockquote>
<hr>
<p><strong>JVM translates bytecode into machine language</strong>
Every Java program is first compiled into an intermediate language called Java bytecode. The JVM is used primarily for 2 things: the first is to translate the bytecode into the machine language for a particular computer, and the second thing is to actually execute the corresponding machine-language instructions as well. The JVM and bytecode combined give Java its status as a &quot;portable&quot; language – this is because Java bytecode can be transferred from one machine to another.</p>
<p><strong>Machine language is OS dependent</strong>
Since the JVM must translate the bytecode into machine language, and since the machine language depends on the operating system being used, it is clear that the JVM is platform (operating system) dependent – in other words, the JVM is not platform independent.</p>
<p><strong>The JVM is not platform independent</strong>
The key here is that the JVM depends on the operating system – so if you are running Mac OS X you will have a different JVM than if you are running Windows or some other operating system.</p>
<h3 id="overloading-amp-overriding">Overloading &amp; Overriding</h3>
<blockquote>
<p>In Java, what’s the difference between method overloading and method overriding?</p>
</blockquote>
<hr>
<p><strong>Overloading:</strong>
Method overloading in Java occurs when two or more methods in the same class have <strong>the exact same name but different parameters</strong> (remember that method parameters accept values passed into the method). However, method overloading is a compile-time phenomenon.
<strong>Can be
overloading:</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1.) The number of parameters is different for the methods.</div><div class="line">2.) The parameter types are different (like</div><div class="line">changing a parameter that was a float to an int).</div></pre></td></tr></table></figure></p>
<p><strong>Not overloading</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1. Just changing the return type of the method. (Compiler Error)</div><div class="line">2. Changing just the name of the method parameters, but</div><div class="line">not changing the parameter types.</div></pre></td></tr></table></figure></p>
<p><strong>Overriding:</strong>
[根本也记不住，其实我的方法是小朋友骑在爸爸肩膀上，他们主体是一样的，不会变的，即方法参数返回值不变，但内容变了。<em>(:зゝ∠)</em>]
Overriding means that a method inherited from a parent class will be changed. But, when overriding a method everything remains <strong>exactly the same except the method definition – basically what the method does is changed slightly to fit in with the needs of the child class</strong>. But, the method name, the number and types of parameters, and the return type will all remain the same.
Method overriding is a run-time phenomenon that is the driving force behind polymorphism.</p>
<h3 id="private-constructor">Private Constructor</h3>
<blockquote>
<p>What’s the point of having a private constructor?</p>
</blockquote>
<hr>
<p>Defining a constructor with the private modifier says that only the native class (as in the class in which the private constructor is defined) is allowed to create an instance of the class, and no other caller is permitted to do so.</p>
<p>There are two possible reasons why one would want to use a private constructor – the first is that <strong>you don’t want any objects of your class to be created at all,</strong> and the second is that <strong>you only want objects to be created internally – as in only created in your class.</strong></p>
<p>A <strong>singleton</strong> is a design pattern that allows only one instance of your class to be created, and this can be accomplished by using a private constructor.</p>
<h3 id="an-object-and-a-class">An object and a class</h3>
<blockquote>
<p>In Java, what’s the difference between an object and a class?</p>
</blockquote>
<p>Shortly: An object is an instance of a class.
Objects have a lifespan but classes do not.</p>
<h3 id="java-platform">Java platform</h3>
<blockquote>
<p>What is the main difference between Java platform and other platforms?</p>
</blockquote>
<p>The Java platform differs from most other platforms in the sense that it's a software-based platform that runs on top of other hardware-based platforms.It has two components:</p>
<ul>
<li>Runtime Environment</li>
<li>API(Application Programming Interface)</li>
</ul>
<h3 id="write-once-and-run-anywhere">write once and run anywhere</h3>
<blockquote>
<p>What gives Java its 'write once and run anywhere' nature?</p>
</blockquote>
<p>The bytecode. Java is compiled to be a byte code which is the intermediate language between source code and machine code. This byte code is not platform specific and hence can be fed to any platform.</p>
<h3 id="is-empty-java-file-name-a-valid-source-file-name">Is Empty .java file name a valid source file name?</h3>
<p>Yes, save your java file by .java only, compile it by javac .java and run by java yourclassname Let's take a simple example:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">//save by .java only  </div><div class="line">class A&#123;  </div><div class="line">public static void main(String args[])&#123;  </div><div class="line">System.out.println(&quot;Hello java&quot;);  </div><div class="line">&#125;  </div><div class="line">&#125;  </div><div class="line">//compile by javac .java  </div><div class="line">//run by     java A</div></pre></td></tr></table></figure></p>
<p>compile it by javac .java</p>
<p>run it by java A</p>
<h3 id="if-i-dont-provide-any-arguments-on-the-command-line-then-the-string-array-of-main-method-will-be-empty-or-null">If I don't provide any arguments on the command line, then the String array of Main method will be empty or null?</h3>
<p>It is empty. But not null.</p>
<h3 id="what-if-i-write-static-public-void-instead-of-public-static-void">What if I write static public void instead of public static void?</h3>
<p>Program compiles and runs properly.</p>
<h3 id="what-is-the-default-value-of-the-local-variables">What is the default value of the local variables?</h3>
<p>The local variables are not initialized to any default value, neither primitives nor object references.</p>
<h3 id="what-is-difference-between-object-oriented-programming-language-and-object-based-programming-language">What is difference between object oriented programming language and object based programming language?</h3>
<p>Object based programming languages follow all the features of OOPs except Inheritance. Examples of object based programming languages are JavaScript, VBScript etc.</p>
<h3 id="what-will-be-the-initial-value-of-an-object-reference-which-is-defined-as-an-instance-variable">What will be the initial value of an object reference which is defined as an instance variable?</h3>
<p>The object references are all initialized to null in Java.</p>
<h3 id="constructor-in-java">Constructor in Java</h3>
<p>Constructor in java is a special type of method that is used to initialize the object.</p>
<p>Java constructor is invoked at the time of object creation. It constructs the values i.e. provides data for the object that is why it is known as constructor.</p>
<p>Rules for creating java constructor</p>
<p>There are basically two rules defined for the constructor.</p>
<p>Constructor name must be same as its class name
Constructor must have no explicit return type</p>
<p>Types of java constructors</p>
<p>There are two types of constructors:</p>
<p>Default constructor (no-arg constructor)
Parameterized constructor</p>
<h3 id=""></h3>
<hr>
<p><strong>References:</strong>
http://www.programmerinterview.com/
https://www.javatpoint.com/constructor</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Leetcode 271. Encode and Decode Strings]]></title>
      <url>http:starllap.space/2017/02/10/271-Encode-and-Decode-Strings/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><h3 id="question">Question:</h3>
<p>Design an algorithm to encode a list of strings to a string. The encoded string is then sent over the network and is decoded back to the original list of strings.</p>
<p>Machine 1 (sender) has the function:</p>
<p><figure class="highlight plain"><figcaption><span>encode(vector<string> strs) &#123;</string></span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">  // ... your code</div><div class="line">  return encoded_string;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Machine 2 (receiver) has the function:
<figure class="highlight plain"><figcaption><span>decode(string s) &#123;</span></figcaption><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">  //... your code</div><div class="line">  return strs;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>So Machine 1 does:</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">string encoded_string = encode(strs);</div></pre></td></tr></table></figure></p>
<p>and Machine 2 does:</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vector&lt;string&gt; strs2 = decode(encoded_string);</div></pre></td></tr></table></figure></p>
<p>strs2 in Machine 2 should be the same as strs in Machine 1.</p>
<p>Implement the encode and decode methods.</p>
<p>Note:</p>
<ul>
<li>The string may contain any possible characters out of 256 valid ascii characters. Your algorithm should be generalized enough to work on any possible characters.</li>
<li>Do not use class member/global/static variables to store states. Your encode and decode algorithms should be stateless.</li>
<li>Do not rely on any library method such as eval or serialize methods. You should implement your own encode/decode algorithm.</li>
</ul>
<h3 id="explanation">Explanation:</h3>
<p>乍一看，也不知道说的是什么。其实题意是给一个list的字符串，先要拼成一整个字符串，是encode。然后把这整个字符拆回一个list的字符。
所以考点是如何合理地分隔，然后还能识别出来。
这哪儿是算法，其实考的是Serilization这个计算机系统中的基本概念。
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">串行化(Serialization)是计算机科学中的一个概念，它是指将对象存储到介质（如文件、内存缓冲区等）中或是以二进制方式通过网络传输。之后可以通过反串行化从这些连续的字节（byte）数据重新构建一个与原始对象状态相同的对象，因此在特定情况下也可以说是得到一个副本，但并不是所有情况都这样。</div></pre></td></tr></table></figure></p>
<h3 id="code">Code:</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">public class Codec &#123;</div><div class="line"></div><div class="line">    // Encodes a list of strings to a single string.</div><div class="line">    public String encode(List&lt;String&gt; strs) &#123;</div><div class="line">        StringBuilder sb = new StringBuilder();</div><div class="line">        for(String s : strs) &#123;</div><div class="line">            sb.append(s.length()).append(&apos;/&apos;).append(s);</div><div class="line">        &#125;</div><div class="line">        return sb.toString();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    // Decodes a single string to a list of strings.</div><div class="line">    public List&lt;String&gt; decode(String s) &#123;</div><div class="line">        List&lt;String&gt; ret = new ArrayList&lt;String&gt;();</div><div class="line">        int i = 0;</div><div class="line">        while(i &lt; s.length()) &#123;</div><div class="line">            int slash = s.indexOf(&apos;/&apos;, i);</div><div class="line">            int size = Integer.valueOf(s.substring(i, slash));</div><div class="line">            ret.add(s.substring(slash + 1, slash + size + 1));</div><div class="line">            i = slash + size + 1;</div><div class="line">        &#125;</div><div class="line">        return ret;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Leetcode 346. Moving Average from Data Stream]]></title>
      <url>http:starllap.space/2017/02/10/346-Moving-Average-from-Data-Stream/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><h3 id="question">Question</h3>
<p>Given a stream of integers and a window size, calculate the moving average of all integers in the sliding window.</p>
<p>For example,
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">MovingAverage m = new MovingAverage(3);</div><div class="line">m.next(1) = 1</div><div class="line">m.next(10) = (1 + 10) / 2</div><div class="line">m.next(3) = (1 + 10 + 3) / 3</div><div class="line">m.next(5) = (10 + 3 + 5) / 3</div></pre></td></tr></table></figure></p>
<h3 id="explanation">Explanation:</h3>
<p>非常简单的题目，可以用queue或者arraylist或者array保存next的值。用一个sum存着总和，每次都计算一下平均值。</p>
<h3 id="code">Code:</h3>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">public class MovingAverage &#123;</div><div class="line"></div><div class="line">    /** Initialize your data structure here. */</div><div class="line">    Queue&lt;Integer&gt; q = new LinkedList&lt;&gt;();</div><div class="line">    int size;</div><div class="line">    int count = 0;</div><div class="line">    int total = 0;</div><div class="line">    public MovingAverage(int size) &#123;</div><div class="line">        this.size = size;</div><div class="line"></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    public double next(int val) &#123;</div><div class="line">        if (count &lt; size) &#123;</div><div class="line">            count ++;</div><div class="line">            q.offer(val);</div><div class="line">            total += val;</div><div class="line">            return total*1.0 / count;</div><div class="line">        &#125; else &#123;</div><div class="line">            int remove = q.poll();</div><div class="line">            q.offer(val);</div><div class="line">            total -= remove;</div><div class="line">            total += val;</div><div class="line">            return total*1.0/ size;</div><div class="line">        &#125;</div><div class="line"></div><div class="line"></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Distributed System-Indirect Communication and Naming]]></title>
      <url>http:starllap.space/2017/02/06/ds69/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>CMU-95702分布式系统
第6、9章总结笔记</p>
<ul>
<li>
<p><strong>Indirect Messaging:</strong>
Indirect communication is defined as communication between entities in a distributed system through an intermediary with no direct coupling between the sender and the receiver(s).</p>
<ul>
<li>Decoupled in space:
<ul>
<li>Sender does not need to know the identify of the receiver(s) and visa-versa</li>
<li>Good for handling legacy systems
– Decoupled in time:</li>
<li>A component need not even be running</li>
<li>The messaging system can store messages until they are successfully delivered</li>
<li>Reliable delivery is insured</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Two messaging modes:</strong></p>
<ul>
<li>Point-to-point:
<ul>
<li>Inventory to Factory</li>
<li>Inventory to Sales</li>
<li>Factory to Accounting</li>
</ul>
</li>
<li>publish / subscribe :
<ul>
<li>parts to parts inventory and parts order</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>some example scenarios:</strong></p>
<ul>
<li>asynchronous communication: like chat ant twitter type app,  report info to on or more interested systems</li>
<li>event-driven problem</li>
<li>decoupled/ multiple consumers</li>
<li>multiply interested parties</li>
</ul>
</li>
<li>
<p><strong>indirect messaging protocols:</strong></p>
<ul>
<li>two open standars: XMPP &amp; amqp</li>
</ul>
</li>
<li>
<p><strong>Java's JMS API:</strong></p>
<ul>
<li>An API for performing indirect messaging.</li>
<li>It is an abstraction API like JNDI and JDBC.</li>
<li>Interacts with some Message Oriented Middleware
(MOM)</li>
<li>JMS is a client-facing interface, meant to abstract
way the particulars of any MOM.</li>
<li>In theory, you should have portability of systems
written with JMS such that they can work with any
MOM.</li>
<li>API is javax.jms</li>
</ul>
</li>
<li>
<p><strong>JMS Queues and topics</strong></p>
</li>
<li>
<p><strong>JMS message types：</strong></p>
<ul>
<li>Stream
<ul>
<li>Sequential stream of Java primitive data types.</li>
</ul>
</li>
<li>Map
<ul>
<li>Set of name-value pairs</li>
</ul>
</li>
<li>Names are String objects</li>
<li>Values are Java primitives (including String)</li>
<li>Text
<ul>
<li>Message is a String object</li>
</ul>
</li>
<li>Plain-text message</li>
<li>XML messages</li>
<li>Object
<ul>
<li>Serialized Java object</li>
</ul>
</li>
<li>Simple if in Java-only environment</li>
<li>Bytes
<ul>
<li>Stream of un-interpreted bytes.</li>
<li>To encode a message body to match an existing message format</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Message driven beans：</strong>
components that are executedasynchronously by messages coming
available in a Queue or Topic.</p>
</li>
</ul>
<p>Line Question on class:</p>
<ul>
<li>abstract indirect messaging API: JMS</li>
<li>point-to-point messaging: Queue</li>
<li>mom used in lab: Glassfish</li>
<li>public subscribe message: Topics</li>
<li>Indirect Messaging Destination: Queue and Topics</li>
<li>Administratively managed resources (External to your program):
Connectionfactory, Queue, Topics</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Distributed System-Mobile and ubiquitous computing]]></title>
      <url>http:starllap.space/2017/02/06/Distributed-System/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>CMU-95702分布式系统
第19章总结笔记</p>
<ul>
<li><strong>Design issues in distributed mobile applications:</strong>
<ul>
<li><strong>Association:</strong>
• Devices
– Appear	and	disappear	from	the	space.
– Do	so	unpredictably
– May	be	totally	new	to	the	space.
– Or	may	be	returning	to	the	space.
• They	need	to	be:
– Perhaps	added	to	the	network
– Brought	into	Association	with	resources	and	applications
• Examples	of	Association
– Come	on	campus	and	be	able	to	be	associated	with	the	printers that	are	close	to	you.
– Be	alerted	if	someone	you	know	is	walking	near	you.
– Be	provided	with	selling	prices	in	your	local	area	for	your	goods
(not	prices	in	far-away	areas).</li>
<li><strong>Application-level Association:</strong>
often by discorvery, broadcasts</li>
</ul>
</li>
</ul>
<ul>
<li>
<p><strong>How a new device become part of the local network?</strong></p>
<ul>
<li>ARP</li>
<li>DHCP</li>
</ul>
</li>
<li>
<p><strong>Sensing and Context Awareness:</strong></p>
<ul>
<li>sensing: camera, time, acceleration, location, speed, temperature</li>
<li>context awareness: in terms of sensed data, or associated data</li>
</ul>
</li>
<li>
<p><strong>Location Sensing:</strong></p>
<ul>
<li>GPS</li>
<li>Database of	collected	Wifi access points
– stores the	access	point's	MAC	address	and	the	GPS
location	at	which	it	was	observed</li>
<li>Cellular	– compute	using	signal	strength	to
multiple	cellular	tower	locations</li>
<li>RFID	tags	– tags	are	associated	with	a	location</li>
</ul>
</li>
<li>
<p><strong>Adaptation:</strong></p>
<ul>
<li>Presentation	to	fit	the	screen</li>
<li>Use	of	JavaScript	to	fit	the	devices	capabilities</li>
<li>Media	quality	to	fit	the	screen	and	device	capabilities</li>
<li>Language	to	fit	the	user</li>
<li>Information	to	fit	the	physical	context.
• Give	only	movie	times	in	the	future,	and	in	nearby	theaters</li>
</ul>
</li>
<li>
<p><strong>Device awareness / browser detection:</strong>
Reply	differently	depending	on	what	device	makes	request.
3 HTTP	headers	provide	clues	of	what	the	device	is:</p>
</li>
</ul>
<ol>
<li>
<p>User-Agent
• Identifies	the	mobile	browser	and	almost always	the	device manufacturer	and	model.
• BlackBerry8330/4.3.0	Profile/MIDP-2.0	Configuration/CLDC-1.1
VendorID/105
• Collection	of	mobile	agent	strings:
– http://www.zytrax.com/tech/web/mobile_ids.html</p>
</li>
<li>
<p>X-Wap-Profile
• Link	to	an	XML	profile	of	the	phone’s	capabilities
•E.g.http://www.blackberry.net/go/mobile/profiles/uaprof/8310/4.2.2.rdf</p>
</li>
<li>
<p>Accept
• Supported	MIME(多用途的网际邮件扩充协议)types
• E.g.	text/html,	application/xhtml+xml,	etc.</p>
<p>These 3 headers can provide enough info , but:
- header can be missing
- have inaccurate values
- have invalid urls</p>
</li>
</ol>
<ul>
<li><strong>Feature detection(more flexible and reliable solution):</strong>
bottom line: using feature detection, not browser detection
<ul>
<li>Two strategies for feature detection:
<ul>
<li>Graceful	degradation
<ul>
<li>Design	for	modern	browsers</li>
<li>Where	features	are	not	available,	provide	a	simpler
alternative
<ul>
<li>If	not	possible,	alert	the	user</li>
</ul>
</li>
<li>Don't	allow	it	to	invisibly	fail</li>
</ul>
</li>
<li>Progressive	enhancement</li>
</ul>
<ul>
<li>Design	with	a	baseline	of	usable	functionality</li>
<li>Enrich	the	user	experience	step-by-step	by	testing	for
features	before	using	them.</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li><strong>Responsive web design:</strong>
<ul>
<li>A	strategy	of	web	design	for	multiple	screen	sizes</li>
<li>Uses:
<ul>
<li>Fluid	grids	expressing	sizes	in	terms	of	percents,	not
pixels</li>
<li>Modify	size	of	media	using	relative	units
<ul>
<li>Keep	them	within	their	bounding	elements</li>
<li>Images</li>
<li>Media</li>
<li>Font	size</li>
</ul>
</li>
<li>Crossing	size	thresholds	switch	to	completely	different
designs
<ul>
<li>Accomplished	using	media	queries</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>
<p><strong>Mobile first:</strong></p>
</li>
<li>
<p>A	philosophy	of	web	design</p>
</li>
<li>
<p>Design	for	mobile	first,	and	desktop	second</p>
</li>
<li>
<p>Counter	to	what	has	been	done	historically,	of	mobile	2nd</p>
</li>
<li>
<p>Benefits	of	Mobile	First:
- Focus	on	the	platform	on	which	you	will	reach	the	most	users
- Forces	designers	to	focus	on	the	most	important	content	and
functionality
- Allows	for	using	technologies	on	mobile:
* touch	events
* geolocation 地理定位
* accelerometer 加速计</p>
</li>
<li>
<p><strong>Mobile deployment strategies:</strong></p>
<ul>
<li>Native
<ul>
<li>E.g.	Android,	iOS</li>
<li>Requires	redeveloping	for	each	architecture</li>
</ul>
<ul>
<li>2	code	bases</li>
</ul>
</li>
<li>Native	with	Development	Framework
<ul>
<li>Use	a	framework	that	compiles	to	multiple	native
applications</li>
<li>E.g.	Corona	(http://www.coronalabs.com)</li>
</ul>
</li>
<li>Mobile	Web
<ul>
<li>Develop	in	HTML	/	CSS	/JavaScript</li>
<li>Accessed	in	a	browser</li>
<li>Can	install	local	icon	to	launch	to	site
<ul>
<li>Use	local	storage	to	store	information	when	off	line</li>
<li>Use	manifest	to	cache	application	to	use	when	off	line</li>
<li>Sync	when	Internet	is	again	available.</li>
</ul>
</li>
</ul>
<ul>
<li>Hybrid
<ul>
<li>Develop	in	HTML	/	CSS	/	JavaScript</li>
<li>Wrap	in	a	browser	wrapper	to	create	native	apps</li>
<li>Wrapper	provides	access	to	phone	hardware	not
accessible	from	the	browser</li>
<li>Apache	Cordova	(https://cordova.apache.org)	is	an	open
source	native	wrapper</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Distributed System-ACID]]></title>
      <url>http:starllap.space/2017/02/06/17/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>CMU-95702分布式系统
ACID概念总结</p>
<ul>
<li><strong>ACID Transactions：</strong>
<ul>
<li><strong>Atomic:</strong>  All or nothing. No intermediate states are visible. No possibility that
only part of the transaction ran. If a transaction fails or aborts prior to
committing, the TP system will undo the effects of any updates (will
recover). We either commit or abort the entire process. Checkpointing and
Logging and recoverable objects can be used to ensure a transaction is
atomic with respect to failures.</li>
<li><strong>Consistent:</strong>  system invariants preserved, e.g., if there were n dollars in a
bank before a transfer transaction then there will be n dollars in the bank
after the transfer. This is largely in the hands of the application programmer.</li>
<li><strong>Isolated:</strong>  Two transactions do not interfere with each other. They appear as
serial executions. This is the case even though transactions may run
concurrently. Locking is often used to prevent one transaction from
interfering with another.</li>
<li><strong>Durable:</strong> The commit causes a permanent change to stable storage. This
property may be obtained with log-based recovery algorithms. If there has
been a commit but updates have not yet been a commit but updates have not yet been completed due to a crash,
the logs will hold the necessary information on recovery.</li>
</ul>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[哪儿]]></title>
      <url>http:starllap.space/2017/01/24/%E5%93%AA%E5%84%BF/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p><embed src="http://www.xiami.com/widget/12753884_1769553081/singlePlayer.swf" type="application/x-shockwave-flash" width="257" height="33" wmode="transparent"></p>
<p>今天上Advanced Cloud Computing,三个教授就一个问题争论起来。</p>
<p>那真的是很触动我的一刻，加起来都快150岁的三个顶尖学术大牛，在投影仪前面，对待知识还是和孩子一样专注和热情，可爱极了。</p>
<p>忽然想到，Greg的主页上写着，“我才不是个不度假的教授，我2012年去冲浪了呢！”。</p>
<p>其实，每次选课都很头疼，时间太少，想学的课太多，只恨自己不能多读几年。我也知道上学期很不开心的时候，发过誓这学期不要选很难的课了。可是我的研究生只有一次，在CMU念书的机会也只有一次（当然我不介意以后再来哈哈哈），无法不说服自己再争取一下。</p>
<p>只是，最近有一个问题在渐渐放大。</p>
<p>我到底要去哪里。</p>
<p>其实，很多人也不知道到底要去哪里。但其实每个人，都能看到那么一些些微弱的光，好像是那个地方。只是有些人会选择努力跑着去，有些人怀疑自己是否真的看见了光，有些人，装作看不见。</p>
<p>之前和萱哥聊天，萱哥倒是很爽快，说不管去哪儿不想呆北京吸霾了，除非这次考上了北影。两年了啊，北影的梦还在。</p>
<p>你看你看，坚定的人都很坦然。</p>
<p>就像机器学习拿了满分的Mengyao，总和我说毕业找不到工作，打算去星巴克门口蹲着摆个碗。</p>
<p>所以有的时候，不知道自己要去哪儿其实也不可怕。</p>
<p>毕竟未来未知不可怕，已知才最可怕。</p>
<p>我算是想明白了，关于人生，我一直思考得太累了。这明明是一道无解题，就算我在某个时刻心满意足想明白了，也一定是幻觉。</p>
<p>没有答案的。所以不要思考了。</p>
<p>还不如痛痛快快活一次就好。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java中的排序问题]]></title>
      <url>http:starllap.space/2017/01/08/Java%E4%B8%AD%E7%9A%84Sort/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>总结几种排序方法。
冒泡排序，选择排序，插入排序，Quick Sort,Merge Sort（continue..）...</p>
<p><strong>Simple sorting</strong></p>
<h2 id="bubble-sort">Bubble Sort</h2>
<p>慢，但是简单。
<strong>Time complexity:    O(N^2)</strong></p>
<p><strong>步骤:</strong></p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">1. 每次只比较两个值。</div><div class="line">2. 如果左边的值大，就交换两个值。</div><div class="line">3. 移动大的值到右边。</div></pre></td></tr></table></figure></p>
<p><strong>举例:</strong></p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">原数组: [4,7, 2, 5, 3]</div><div class="line">Round 1:</div><div class="line">  -&gt; [4,7,2,5,3]</div><div class="line">  -&gt; [4,2,7,5,3]</div><div class="line">  -&gt; [4,2,5,7,3]</div><div class="line">  -&gt; [4,2,5,3,7]</div><div class="line">Round 2:</div><div class="line">  -&gt; [2,4,5,3,7]</div><div class="line">  -&gt; [2,4,5,3,7]</div><div class="line">  -&gt; [2,4,3,5,7]</div><div class="line">Round 3:</div><div class="line">  -&gt; [2,4,3,5,7]</div><div class="line">  -&gt; [2,3,4,5,7]</div><div class="line">Round 4:</div><div class="line">  -&gt; [2,3,4,5,7]</div></pre></td></tr></table></figure></p>
<p><strong>Code:</strong></p>
<p>int[ ] data = {4, 7, 2, 5, 3}</p>
<p>Swap Method
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// a helper method that swaps two values in an int array</div><div class="line">private static void swap(int[] data, int one, int two) &#123;</div><div class="line">    int temp = data[one];</div><div class="line">    data[one] = data[two];</div><div class="line">    data[two] = temp;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>Bubble Sort:
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">public static void bubbleSort(int[] data) &#123;</div><div class="line">       // move backward from the last index</div><div class="line">       for (int out = data.length - 1; out &gt;= 1; out--) &#123;</div><div class="line">           // move forward from the beginning</div><div class="line">           // bubble up the largest value to the right</div><div class="line">           for (int in = 0; in &lt; out; in++) &#123;</div><div class="line">               if (data[in] &gt; data[in + 1]) &#123;</div><div class="line">                   swap(data, in, in + 1);</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">   &#125;</div></pre></td></tr></table></figure></p>
<h2 id="selection-sort">Selection Sort</h2>
<p>比冒泡排序快但是依旧不够快。
<strong>Time complexity:    O(N^2)</strong>
比冒泡排序少了很多swap的过程，所以稍微快一些。</p>
<p><strong>步骤:</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">1. 选出最小的值。</div><div class="line">2. 移动到最左边。</div></pre></td></tr></table></figure></p>
<p><strong>举例:</strong></p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">原数组: [4,7, 2, 5, 3]</div><div class="line">Round1:</div><div class="line">  最小的是2：</div><div class="line">  [2,7,4,5,3]</div><div class="line">Round2:</div><div class="line">  最小的是3</div><div class="line">  [2,3,4,5,7]</div><div class="line">Round3:</div><div class="line">  最小的是4</div><div class="line">  [2,3,4,5,7]</div><div class="line">Round4:</div><div class="line">  最小的是5：</div><div class="line">  [2,3,4,5,7]</div></pre></td></tr></table></figure></p>
<p><strong>Code:</strong></p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">for (int out = 0; out&lt;data.length; out++) &#123;</div><div class="line">  min = out;</div><div class="line">  for (int in = out+1; in &lt; data.length; in ++) &#123;</div><div class="line">    if (data[in] &lt; min) &#123;</div><div class="line">      min = in;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  if (out != min) &#123;</div><div class="line">    swap(data, out, min);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="insertion-sort">Insertion Sort:</h2>
<p>最直观的排序法。
<strong>Time complexity: O(N^2)</strong></p>
<p><strong>步骤:</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">想象数组中有一个分割线。</div><div class="line">1. 左手边的是排好序的。</div><div class="line">2. 线的右边的第一个元素需要被插入到左边的相应位置中。</div></pre></td></tr></table></figure></p>
<p><strong>举例:</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">原数组: [4,7, 2, 5, 3]</div><div class="line">-&gt; [4,|7,2,5,3]</div><div class="line">-&gt; [4,7,|2,5,3]</div><div class="line">-&gt; [2,4,7,|5,3]</div><div class="line">-&gt; [2,4,5,7,|3]</div><div class="line">-&gt; [2,3,4,5,7]</div></pre></td></tr></table></figure></p>
<p><strong>Code:</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">public static void insertionSort(int[] data) &#123;</div><div class="line">   // start from the 1st index till the last index</div><div class="line">  for (int out = 1; out&lt;data.length; out++) &#123;</div><div class="line">    int in = out;</div><div class="line">    int temp = data[out];</div><div class="line">    /*</div><div class="line">    * loop to check the sorted section going backward</div><div class="line">    * but not necessarily all the way to the 0th</div><div class="line">    * On average, look halfway through the sorted section</div><div class="line">    */</div><div class="line">    while (in&gt;0 &amp;&amp; data[in-1]&gt;=temp) &#123;</div><div class="line">      data[in] = data[in-1];</div><div class="line">      in --;</div><div class="line">    &#125;</div><div class="line">    if (out != in) &#123;</div><div class="line">      data[in] = temp;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>##Quick Sort##
<strong>Time complexity: O(NlogN)</strong></p>
<p><strong>步骤:</strong>
是一种对冒泡排序的一种改进。通过一趟把数据分成独立的两部分，其中所有的数据都比另一份数据小。然后再继续排序。递归直到整个数据变成更有序序列。</p>
<p><strong>举例</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">原数组: [4,7, 2, 5, 3]</div><div class="line">-&gt; [4,|7,2,5,3]</div><div class="line">-&gt; [4,7,|2,5,3]</div><div class="line">-&gt; [2,4,7,|5,3]</div><div class="line">-&gt; [2,4,5,7,|3]</div><div class="line">-&gt; [2,3,4,5,7]</div></pre></td></tr></table></figure></p>
<p><strong>代码</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">static void quicksort(int n[], int left, int right) &#123;</div><div class="line">    int dp;</div><div class="line">    if (left &lt; right) &#123;</div><div class="line">        dp = partition(n, left, right);</div><div class="line">        quicksort(n, left, dp - 1);</div><div class="line">        quicksort(n, dp + 1, right);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">static int partition(int n[], int left, int right) &#123;</div><div class="line">    int pivot = n[left];</div><div class="line">    while (left &lt; right) &#123;</div><div class="line">        while (left &lt; right &amp;&amp; n[right] &gt;= pivot)</div><div class="line">            right--;</div><div class="line">        if (left &lt; right)</div><div class="line">            n[left++] = n[right];</div><div class="line">        while (left &lt; right &amp;&amp; n[left] &lt;= pivot)</div><div class="line">            left++;</div><div class="line">        if (left &lt; right)</div><div class="line">            n[right--] = n[left];</div><div class="line">    &#125;</div><div class="line">    n[left] = pivot;</div><div class="line">    return left;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>##Merge Sort##
<strong>Time complexity: O(NlogN)</strong></p>
<p><strong>Code</strong>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">public  void sort(int[] A) &#123;</div><div class="line">  int[] tmp = new int[A.length];</div><div class="line">  mergeSort(A, 0, A.length -1 , tmp);</div><div class="line">&#125;</div><div class="line"></div><div class="line">public void mergeSort(int[] A, int start, int end, int[] tmp) &#123;</div><div class="line">  if (start &gt;= end) return;</div><div class="line">  int left = start, right = end;</div><div class="line">  int mid = (start+end)/2;</div><div class="line">  mergeSort(A, start, mid, tmp);</div><div class="line">  mergeSort(A, mid+1, end,tmp);</div><div class="line">  merge(A, start, mid, end, tmp);</div><div class="line">&#125;</div><div class="line"></div><div class="line">public void merge(int[] A, int start, int mid, int end, int[] tmp) &#123;</div><div class="line">  int left = start;</div><div class="line">  int right = mid + 1;</div><div class="line">  int index = start;</div><div class="line">  while(left &lt;= mid &amp;&amp; right &lt;= end) &#123;</div><div class="line">    if (A[left] &lt; A[right]) &#123;</div><div class="line">      tmp[index++] = A[left++];</div><div class="line">    &#125; else &#123;</div><div class="line">      tmp[index++] = A[right++];</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">  while(left &lt;= mid) &#123;</div><div class="line">    tmp[index++] = A[left++];</div><div class="line">  &#125;</div><div class="line">  while(right &lt;= end) &#123;</div><div class="line">    tmp[index+++] = A[right++];</div><div class="line">  &#125;</div><div class="line">  for(index = start; index &lt;= end; index++) &#123;</div><div class="line">    A[index] = tmp[index];</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[天冷该吃火锅]]></title>
      <url>http:starllap.space/2016/11/22/e5-a4-a9-e5-86-b7-e8-af-a5-e5-90-83-e7-81-ab-e9-94-85/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p><embed src="http://www.xiami.com/widget/12753884_1773763930/singlePlayer.swf" type="application/x-shockwave-flash" width="257" height="33" wmode="transparent"></p>
<p>晚上，翻到一篇写北京卤煮的文章。15年夏天在北京，一个姑娘带我去了一个南城的胡同里吃卤煮。买单的不是我，领餐的也不是我。</p>
<p>在吃完之前我都没太搞清楚到底卤煮里面的那些具体是什么。我在当时常聊的微信群里说我在吃卤煮的时候，我哥来了一句，Star，你居然敢吃卤煮啊？当然敢。</p>
<p>我有什么是不敢的。科科。</p>
<p>但是，被科普完卤煮的构成以后，正站在五道口农科院的那片稻田前的我，差点连同刚刚吃的吴裕泰抹茶冰淇淋一起吐出来。我感受到了作为一个南方人的极限。
现在想想，透过现象抛开心理因素，我承认那是好吃的。别忘了，要配北冰洋。</p>
<p>在外面，最脆弱的时候就是想吃而不可得。之前想吃肠粉的时候，乐文带我去了匹村唯一一家的早茶店，可惜不好吃。以前在澳洲，广东人到处都有，在小天使和囧囧两个潮汕人的带动下，我深深爱上了早茶。虾饺皇要有汁儿才好吃，蜜汁排骨要熟透，凤爪要粉烂且入味。吃得下呢，可以来一个榴莲酥，叉烧包。主食当然是干炒牛河或者鲜虾云吞面啦。可是这里连一家像样的早茶店都没有，和小天使一起感到忧伤。</p>
<p>最近天冷，雪忽然下起来，风就在我屋子的外面呼呼地刮，有朋友来家里吃火锅，窗外雪花斜着飘，屋里却热气腾腾的。梦瑶埋头寻找她的年糕。乐乐直呼太幸福了。爽爽吃得忘了她刚刚怎么也修不好的bug。这个时刻，满足变得很真实。满足的，是一盒牛肉，一盘海带结，一块豆腐皮，一袋鱼丸就能解决的欲望。</p>
<p>其实，在某种意义上，对食物的欲望反映着一个人的精神状态。特别羡慕还能对食物怀抱100%期待的人。那一定是热爱生活的人。像我，只有想做菜的时候，才会觉得自己是对生活抱有憧憬的。</p>
<p>状态非常差的时候，和草草讨论过，当经历着无法自愈的痛苦，食物这种无门槛、不需要高难度竞争就唾手可得的东西，是最低程度的治疗方式。但随着对痛苦的认知加深，对于自我调节的要求会越来越高，越来越变得难以满足。所以，“吃一顿大餐就好了”这种解压方式对我们并不适用。high点太高到，需要去蹦极，坐过山车，听live，喝酒才能好一些。因为在心里，知道我们的问题是食物所无法解决的，换言之，也许未来是会好的，会有短暂的快乐的，但我们，我们自身不会好了。就像Monica和Rachel说的，“That's food, not love.”。不过还好，最严重的时候，崩溃得不成人形，什么也干不了，也不至于没有对食物一点欲望都没有。</p>
<p>大三暑假，九四和我核对抑郁症症状，快到觉得我可以开始吃药的时候，“完全不想吃东西”这一条就打回了原形。看来没有抑郁症，还能笑着活下去。可能，食物是最后的底线了吧。</p>
<p>又想起当时带我去吃卤煮的姑娘，我其实已经忘了她的名字，只记得她的微信头像是《这个杀手不太冷》里娜塔莉波特曼拿枪的样子。我当时就在想啊，大多数人，20多岁的时候就死了，之后的日子不过是机械地重复之前的日子。但她还没有，她对胡同有热情，对美食有热情，对陌生人也有热情。真好。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Java中的比较]]></title>
      <url>http:starllap.space/2016/11/13/java-e4-b8-ad-e7-9a-84-e6-af-94-e8-be-83/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><h3 id="equals-和compareto">equals, == 和compareTo</h3>
<ul>
<li>== 操作符并不涉及对象内容的比较。</li>
<li>equals 比较的是reference，也就是引用内容</li>
<li>compareTo():
在基本数据中，compareTo()是比较两个Character 对象；
在 Boolean中，是用boolean的实例于其它实例进行比较；
在String 中，则是按照字典顺序进行比较，返回的值是一个int 型。</li>
</ul>
<p>&lt;pre class=&quot;editor-colors lang-text&quot;&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;text plain&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span class=&quot;meta paragraph text&quot;&gt;&lt;span&gt;String a = &quot;abc&quot;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;text plain&quot;&gt;&lt;span class=&quot;meta paragraph text&quot;&gt;&lt;span&gt; String b = &quot;abc&quot;;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;</p>
<pre><code>a == b: **true**
</code></pre>
<p>a.equals(b): <strong>true</strong></p>
<p>a.compareTo(b): ** 0**</p>
<p>&lt;pre class=&quot;editor-colors lang-text&quot;&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;text plain&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span class=&quot;meta paragraph text&quot;&gt;&lt;span&gt;String a = new String(&quot;abc&quot;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;text plain&quot;&gt;&lt;span class=&quot;meta paragraph text&quot;&gt;&lt;span&gt; String b = new String(&quot;abc&quot;);&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;</p>
<pre><code> a == b: **false**
</code></pre>
<p>这是因为，对于对象的比较是对对象引用的比较。a和b的内存地址不同，对象引用不同</p>
<p>a.equals(b): <strong>true</strong></p>
<p>a.compareTo(b): ** 0**</p>
<ul>
<li>在继承了Comparabale接口的类中，compareTo（）的应该与euqals（）一致，比如 x.equals(y) == true, 则
x.compareTo(y) == 0</li>
</ul>
<h3 id="关于equals和hashcode">关于equals和hashcode</h3>
<p>实际上，equals虽然说是表面比较是否一致，但是实际的原理是于hashcode（）方法有关的。
比如上例中的String的比较，是因为String重写了hashcode（）和equals（）
方法。</p>
<ul>
<li>
<p>如果x.equals(y)返回“true”，那么x和y的hashCode()必须相等。</p>
</li>
<li>
<p>如果x.equals(y)返回“false”，那么x和y的hashCode()有可能相等，也有可能不等。</p>
</li>
<li>
<p>任何情况下，x.equals(null)，永远返回是“false”；x.equals(和x不同类型的对象)永远返回是“false”。</p>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Machine Learning 复习（四）：概念学习]]></title>
      <url>http:starllap.space/2016/10/19/machine-learning-e5-a4-8d-e4-b9-a0-ef-bc-88-e5-9b-9b-ef-bc-89-ef-bc-9a-e6-a6-82-e5-bf-b5-e5-ad-a6-e4-b9-a0/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><h3 id="概念学习concept-learning">概念学习（Concept Learning）</h3>
<p>概念学习是指从某个布尔函数的输入输出训练中推断出该布尔函数。</p>
<h5 id="例子">例子</h5>
<p>为了更好地理解概念学习，我们从机器学习经典教材《Machine learning》（Tom Mitchell著）中的经典例子来解释：
<img src="http://i.imgur.com/0SnpShX.png" alt=""></p>
<p>我们可以看到，属性EnjoySport表示最终是否运动，而这个任务的目标是根据sky，humidity等的属性来预测出EnjoySport的值。</p>
<ul>
<li>
<p>属性的取值可以为：</p>
<pre><code>*   ？：表示可以接受任意值
</code></pre>
<ul>
<li>明确指定属性值（如warm）</li>
<li>不允许任何值：<img src="http://i.imgur.com/Sy3EXiV.png" alt=""></li>
</ul>
</li>
</ul>
<p>所以对于EnjoySport这个任务：</p>
<ul>
<li>
<p>已知：</p>
<ul>
<li>
<p>实例集 X：可能的日子，每个日子都有如下属性描述：</p>
<pre><code>    *   Sky
</code></pre>
<ul>
<li>Temp</li>
<li>Humid</li>
<li>Wind</li>
<li>Water</li>
<li>Forecast</li>
</ul>
</li>
<li>
<p>假设集： H。每个假设集都有6个属性的任意取值。</p>
</li>
<li>
<p>目标概念c：EnjoySport： <img src="http://i.imgur.com/uGkb5OB.png" alt=""></p>
</li>
<li>
<p>训练实例 D： +/-的关于目标概念的例子：
<img src="http://i.imgur.com/nOw2ffI.png" alt=""></p>
</li>
<li>
<p>归纳学习假设： 如果一个假设能够在训练集样本中很好地逼近目标函数，就能在未见实例中很好地逼近目标函数。
<img src="http://i.imgur.com/vDaItGC.png" alt=""></p>
</li>
<li>
<p>Find-S 算法：</p>
</li>
<li>
<p>初始化H到最特别的那个假设</p>
</li>
<li>
<p>对于每一个训练实例X中的约束ai：</p>
<pre><code>    *   如果ai已经符合假设，什么也不做。
</code></pre>
<ul>
<li>
<p>否则，用一个更加general的约束来代替H中的ai</p>
</li>
<li>
<p>输出最终的假设 H
<img src="http://i.imgur.com/hMNrVw1.png" alt=""></p>
</li>
</ul>
</li>
<li>
<p>Find-S 算法仍然存在一些没有解决的问题：</p>
<pre><code>*   难以判断是否对概念进行了学习
</code></pre>
<ul>
<li>
<p>是否能处理不一致的训练数据：在实际中，训练数据常常出现错误。这种不一致可能会严重破坏Find-S算法，因为Find-S算法忽略了所有的反例。我们期待的算法至少要能检测出训练数据的不一致性，并能容忍这样的错误。</p>
</li>
<li>
<p>为什么要用特殊假设？如果有多个，此算法只能找到最特殊的那个。为什么我们不用最一般的假设呢，或者两者之间的假设。</p>
</li>
<li>
<p>如果有多个极大特殊假设？在其他一些假设空间（后面会讨论到）中，可能有多个极大特殊假设。</p>
</li>
<li>
<p>变形空间（Version Spaces):
所有和数据集以及假设表示对应的假设的集合。我们可以看到，在Find-S中，最终输出的假设可能只是H中与训练样例一致的多个假设之一。</p>
</li>
</ul>
</li>
<li>
<p>列表后消除算法（List-Then-Eliminate）：</p>
<pre><code>*   先把变形空间设置为所有假设的列表
</code></pre>
<ul>
<li>
<p>对于每一个样例，我们排除假设中和样例不符合的情况。</p>
</li>
<li>
<p>输出变形空间中的所有假设。</p>
</li>
<li>
<p>一般边界（General boundary）： 表示在H中与D相一致的极大一般成员的集合。</p>
</li>
</ul>
</li>
<li>
<p>特殊边界（Specific Boundary）：表示在H中与D相一致的极大特殊成员的集合。</p>
</li>
<li>
<p>所有的变形空间都在这两个边界之间：
<img src="http://i.imgur.com/n0uBYdt.png" alt=""></p>
</li>
</ul>
</li>
</ul>
<h3 id="回到enjoy-sport的例子">回到enjoy sport的例子</h3>
<p><img src="http://i.imgur.com/0SnpShX.png" alt="">
我们来梳理一下：</p>
<ul>
<li>输入空间： X={sky(cloudy/sunny/rainy),Temp=(warm/cold),Humid=(Normal/high),Wind=(Strong/weak),water=(warm/cool),forecast=(same/change)}
所以一共是 = 3_2_2_2_2*2 =96</li>
<li>概念空间（Concept Space）：
对于每一个输入，都有正例反例两种可能的概念。
所以概念空间为2^96</li>
<li>假设空间：把每种情况包含all这个选项，相乘=4_3_3_3_3*3+1=973.这里加的1表示的是全否的情况。</li>
</ul>
<h3 id="归纳偏置inductive-bias">归纳偏置(Inductive Bias)</h3>
<p>机器学习试图去建造一个可以学习的算法，用来预测某个目标的结果。要达到此目的，要给于学习算法一些训练样本，样本说明输入与输出之间的预期关系。然后假设学习器在预测中逼近正确的结果，其中包括在训练中未出现的样本。既然未知状况可以是任意的结果，若没有其它额外的假设，这任务就无法解决。这种关于目标函数的必要假设就称为归纳偏置（Mitchell, 1980; desJardins and Gordon, 1995）。</p>
<p>参考：
《机器学习》（Tom Mitchell）</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Machine Learning 复习（零）：机器学习基本介绍]]></title>
      <url>http:starllap.space/2016/10/18/machine-learning-e5-a4-8d-e4-b9-a0-ef-bc-880-ef-bc-89-ef-bc-9a-e6-9c-ba-e5-99-a8-e5-ad-a6-e4-b9-a0-e5-9f-ba-e6-9c-ac-e4-bb-8b-e7-bb-8d/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>机器学习是基于数据的人工智能（1980s-现在），机器学习能够通过学习例子来完成任务。</p>
<h3 id="机器学习框架">机器学习框架</h3>
<ul>
<li>
<p>通常是成对出现（Input-Correct_Output）</p>
</li>
<li>
<p>机器学习的常见情况：</p>
<pre><code>*   **分类(Classification)**： 医疗诊断： 从一个输出指向一些分类；*   **回归（Regression）**：预测明天的天气：从一个输出到一个数字
</code></pre>
<ul>
<li><strong>逻辑回归（Logistic Regression）</strong>: 存活几率：从一个输出到一个可能性</li>
</ul>
</li>
</ul>
<h3 id="如何解决一个机器学习的问题">如何解决一个机器学习的问题</h3>
<ul>
<li>定义你的任务，考虑你的目标，比如是要决定是否允许贷款</li>
<li>考虑实际情况，比如你有多少数据，要花多少时间和努力</li>
<li>考虑输出的形式，是数字还是分类，是可能性还是一个计划</li>
<li>选择衡量表现的标准，比如损失函数或错误率</li>
<li>选择输入的形式</li>
<li>选择一系列的解决方法（假设空间）</li>
<li>选择或者设计一种学习算法</li>
</ul>
<p><img src="http://i.imgur.com/13KMImC.png" alt=""></p>
<h3 id="机器学习和统计的关系">机器学习和统计的关系</h3>
<p>从20世纪90年代中，人们开始慢慢了解统计和机器学习的关系。</p>
<ul>
<li>
<p>统计：</p>
<pre><code>*   数学的分支
</code></pre>
<ul>
<li>更多考虑是否正确</li>
<li>不太考虑计算的复杂性</li>
</ul>
</li>
<li>
<p>机器学习：</p>
<pre><code>*   信息技术或者人工智能的分支
</code></pre>
<ul>
<li>更看重是否能在实际中运用</li>
<li>不太考虑统计原理</li>
<li>如今，两者已经有效结合了，机器学习也常常称为“统计机器学习”。</li>
</ul>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Machine Learning 复习（二）：信息论]]></title>
      <url>http:starllap.space/2016/10/18/machine-learning-e5-a4-8d-e4-b9-a0-ef-bc-88-e4-ba-8c-ef-bc-89-ef-bc-9a-e4-bf-a1-e6-81-af-e8-ae-ba/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><h3 id="informaiton">Informaiton</h3>
<ul>
<li>信息 ！= 知识</li>
<li>信息用来减少不确定性</li>
<li>当我们得知E事件发生，意味着我们得到了</li>
</ul>
<p><img src="http://i.imgur.com/d6puw09.png" alt=""></p>
<p>bits的信息。</p>
<pre><code>*   其中log的底数并不重要，我们假设为2.
*   这也可以认为这个表示了事件E的“惊喜”数量。
*   例如抛一枚硬币得到的信息是：![](http://i.imgur.com/xCAfm06.png)
*   抛一枚骰子得到的信息是：
</code></pre>
<p><img src="http://i.imgur.com/3qhzEa5.png" alt=""></p>
<ul>
<li>信息熵（Entropy）用来度量随机变量的不确定性<img src="http://i.imgur.com/vhNudZf.png" alt=""></li>
</ul>
<p><img src="http://i.imgur.com/hMmPF6t.png" alt=""></p>
<p>&lt;pre class=&quot;editor-colors lang-text&quot;&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;text plain&quot;&gt;&lt;span class=&quot;meta bullet-point star text&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span class=&quot;punctuation definition item text&quot;&gt;&lt;span&gt;<em>&lt;/span&gt;&lt;/span&gt;&lt;span&gt; 代表的是观察S事件来源所能得到的平均信息量。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;text plain&quot;&gt;&lt;span class=&quot;meta bullet-point star text&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span class=&quot;punctuation definition item text&quot;&gt;&lt;span&gt;</em>&lt;/span&gt;&lt;/span&gt;&lt;span&gt; 代表的是观察一个特征所得到的平均“惊喜”量。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;text plain&quot;&gt;&lt;span class=&quot;meta bullet-point star text&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span class=&quot;punctuation definition item text&quot;&gt;&lt;span&gt;<em>&lt;/span&gt;&lt;/span&gt;&lt;span&gt; 在观察一个特征之前的不确定性。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;text plain&quot;&gt;&lt;span class=&quot;meta bullet-point star text&quot;&gt;&lt;span&gt; &lt;/span&gt;&lt;span class=&quot;punctuation definition item text&quot;&gt;&lt;span&gt;</em>&lt;/span&gt;&lt;/span&gt;&lt;span&gt; 根据Shannon定律，当你用code来传递信息时，最低的limit是code的efficiency不能低于Entropy。&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;</p>
<ul>
<li>
<p>信息熵的特性：</p>
<ul>
<li>不为负。</li>
<li>概率越大，自信息量越小</li>
<li>设K是系统内的信息总数，则
<img src="http://i.imgur.com/Dq8RQVR.png" alt="">当p=1/k,即事件概率相等时，系统S的熵最大。</li>
</ul>
</li>
<li>
<p>联合熵：</p>
<ul>
<li>
<p>通过举例来说明：
<img src="http://i.imgur.com/cJLL1eO.png" alt=""></p>
<pre><code>*   如图，H（T）= H（0.3，0.5，0.2）=1.48548
</code></pre>
</li>
</ul>
</li>
</ul>
<p>H(M)=H(0.6,0.4)=0.970951
H(T)+H(M)=2.456431
*   而联合熵则表示为：
<img src="http://i.imgur.com/fXwGoZd.png" alt=""></p>
<pre><code>    可以看出：
</code></pre>
<p><img src="http://i.imgur.com/bRTkMLK.png" alt="">
当X，Y在统计学上互相独立时，等号成立。</p>
<ul>
<li>
<p>条件熵（Conditional Entropy）;
P(T=t|M=m):
<img src="http://i.imgur.com/FGzAOEu.png" alt="">
<img src="http://i.imgur.com/yIkhyGa.png" alt=""></p>
<ul>
<li>
<p>平均条件熵：
<img src="http://i.imgur.com/CJsv6Xz.png" alt=""></p>
<pre><code>*   那么M（cold/mild/hot）能告诉我们多少关于T的信息呢？
</code></pre>
</li>
</ul>
</li>
</ul>
<p><img src="http://i.imgur.com/7Hgqpdo.png" alt=""></p>
<pre><code>    同理，我们也可以观察T能告诉我们多少和M有关的信息：
</code></pre>
<p><img src="http://i.imgur.com/xbxyZyg.png" alt=""></p>
<ul>
<li>
<p>平均互信息：
<img src="http://i.imgur.com/XqcI5yk.png" alt=""></p>
<ul>
<li>
<p>性质：</p>
<pre><code>    *   对称性：也就是说对于X和Y，平均互信息都是I（X；Y）
</code></pre>
<ul>
<li>不为负： 但是H(X) − H(X/y) 可能为负</li>
<li>如果X，Y是独立的，就是0</li>
<li>可相加的</li>
<li><img src="http://i.imgur.com/2L2g7mM.png" alt=""></li>
</ul>
</li>
</ul>
</li>
<li>
<p>对于三个信息源：
<img src="http://i.imgur.com/DMMhYMM.png" alt=""></p>
</li>
<li>
<p>马尔科夫链（Markov Source）:
马尔可夫链描述了一种状态序列，其每个状态值取决于前面有限个状态。马尔可夫链是具有马尔可夫性质的随机变量的一个数列。这些变量的范围，即它们所有可能取值的集合，被称为“状态空间”，而  的值则是在时间n的状态。如果<img src="http://i.imgur.com/kHK3e83.png" alt="">对于过去状态的条件概率分布仅是  的一个函数，则 <img src="http://i.imgur.com/xBCVgwp.png" alt=""></p>
</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Machine Learning 复习 (一)：概率统计和线性回归]]></title>
      <url>http:starllap.space/2016/10/17/machine-learning-e5-a4-8d-e4-b9-a0-e4-b8-80-ef-bc-9a-e6-a6-82-e7-8e-87-e7-bb-9f-e8-ae-a1-e5-92-8c-e7-ba-bf-e6-80-a7-e5-9b-9e-e5-bd-92/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>Machine Learning 总结</p>
<h3 id="probability-and-statistics">Probability and Statistics</h3>
<ul>
<li>
<p>常规变量（Regular variables）应该是数字或者是其他。相反，随机变量（Random Variables）是一系列值得分部。 比如，扔一枚硬币是随机变量X的如下分布，‘Head’可能性为0.5，‘Tail’可能性为0.5.</p>
</li>
<li>
<p>一般我们用大写字母表示随机变量，用小写字母表示随机变量取的值。
<img src="http://i.imgur.com/pDKvACY.png" alt=""></p>
</li>
<li>
<p>链式法则：
<img src="http://i.imgur.com/4mhM7ZX.png" alt=""></p>
</li>
<li>
<p>独立事件：
<img src="http://i.imgur.com/OW5IlLd.png" alt=""></p>
</li>
<li>
<p>数学期望E：
<img src="http://i.imgur.com/cnOMht3.png" alt=""></p>
<ul>
<li>
<p>性质：</p>
<pre><code>*   线性表达：
</code></pre>
</li>
</ul>
</li>
</ul>
<p><img src="http://i.imgur.com/umYck9X.png" alt="">
*   在不假定任何X和Y的关系条件下：
<img src="http://i.imgur.com/oIUCHhI.png" alt=""></p>
<ul>
<li>方差：</li>
</ul>
<p>Var[X] = E[(X − E[X])2]
<img src="http://i.imgur.com/nMY4vIP.png" alt=""></p>
<ul>
<li>
<p>标准差：
<img src="http://i.imgur.com/eDUZuou.png" alt=""></p>
</li>
<li>
<p>X,Y的协方差：
<img src="http://i.imgur.com/H8fkuCv.png" alt=""></p>
</li>
<li>
<p>方差，标准差，协方差的一些性质：
<img src="http://i.imgur.com/K1fjJc8.png" alt=""></p>
</li>
<li>
<p>总方差定律（The law of total variance）:
<img src="http://i.imgur.com/kEzg3MB.png" alt=""></p>
</li>
<li>
<p>线性相关（通常被简称为 相关）：</p>
<ul>
<li>
<p>属于[-1，1]
<img src="http://i.imgur.com/5DyzoXH.png" alt=""></p>
</li>
<li>
<p>相关性在变量的移动和范围变化中常常是保持不变的
<img src="http://i.imgur.com/CNoMJ92.png" alt=""></p>
<ul>
<li>如果X，Y互相独立，那么线性相关性为0，但是反之不可以。即X，Y可能线性不相关，但是依旧不是独立的。
所以结论只能是：
独立 -&gt; 线性不相关，反之不可。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="correlation-vs-mutual-information">Correlation vs. Mutual Information</h3>
<ul>
<li>
<p>Mutual Information 的定义（可参见另一篇博客【现在没有哈哈】：Machine Learning信息论复习）：</p>
</li>
<li>
<p>线性相关性需要x，y的值都是数字，所以两者之间存在距离概念---度量空间（metric space）。</p>
<ul>
<li>
<p>度量空间，可以用来衡量线性相关的程度和紧密度（tightness）。</p>
<ul>
<li>对于binary的随机变量，认为变量拥有两个数值，0和1。范围也是[-1，1]。大多数情况下，我们更加在意相关的强度，而非反向性（polarity）。所以我们会观察<img src="http://i.imgur.com/snCouQg.png" alt=""> 的情况，其范围为[0,1]</li>
</ul>
</li>
</ul>
</li>
<li>
<p>相反，Mutual Information 不需要度量空间。
<img src="http://i.imgur.com/Nzz5md8.png" alt=""></p>
</li>
<li>
<p>Mutual Information I（X;Y）很大但是相关性为0的例子:</p>
<ul>
<li>
<p>一个完美的多边形，顶点的线性相关性永远为0，但是当定点个数趋向无穷，I（X；Y）也会趋向无穷。</p>
<pre><code>    *   最小的例子：等边三角形
</code></pre>
<ul>
<li>来思考一个分布均匀的正方形，当你旋转它的时候，相关性不变，但是I会随着旋转而变化。当旋转到和轴平行时，I减小了。
<img src="http://i.imgur.com/0VfYmLq.png" alt=""></li>
</ul>
</li>
</ul>
</li>
<li>
<p>Mutual Information 为0但是相关性不为0的例子：</p>
<ul>
<li>没有。因为I（X；Y）=0 意味着X，Y是独立的，所以相关性一定为0。</li>
</ul>
</li>
</ul>
<h3 id="linear-learning-in-one-dimensionsimple-linear-regression">Linear Learning in One Dimension(Simple Linear Regression)</h3>
<ul>
<li>我们在这里考虑的是一种Mapping X-&gt;Y.X作为输入会给出，我们更倾向于了解P（y|x）而不是P（x，y）。简单来说，我们想知道在给定x的情况下y的期望值。即，E[Y|X=x]，更简单来说，我们假设X和E[Y]符合一种线性关系：
<img src="http://i.imgur.com/FtpiBMl.png" alt="">
或者说是：
<img src="http://i.imgur.com/79iWQIz.png" alt=""></li>
<li>β是斜率，α是截距，ε是零均值分布。（好了好了这个中学就学过了。）</li>
<li>对于给定的斜率和截距，我们可以得到一条线，然后计算一下误差。
<img src="http://i.imgur.com/cHM6aMP.png" alt="">
实际上，这种误差并不代表错误，只是预测值和真实值之间的差距.</li>
<li>一种找到这些参数的方法是最小化残差平方， 这里假设误差是Guassion（也就是正态分布）的。
<img src="http://i.imgur.com/ElJtZHe.png" alt="">
有一种相近解法：
<img src="http://i.imgur.com/MlB77DE.png" alt=""></li>
</ul>
<h3 id="linear-learning-in-multiple-dimensions">Linear Learning in Multiple Dimensions</h3>
<ul>
<li>如果X不止一个比如：
<img src="http://i.imgur.com/vHnaG1o.png" alt=""></li>
<li>我们同样可以假设线性关系：
<img src="http://i.imgur.com/ppDgVx1.png" alt=""></li>
<li>为了简化符号，我们可以假设β0=α，同时x0=1。就得到了如下模型：
<img src="http://i.imgur.com/LOlkLBu.png" alt=""></li>
<li>我们可以把数据集用矩阵表示
<img src="http://i.imgur.com/gx7nN0Q.png" alt=""></li>
<li>留存可以计算为：
<img src="http://i.imgur.com/07n1cTT.png" alt=""></li>
<li>和上面的一样，我们同样需要计算出最小化残差平方：
<img src="http://i.imgur.com/8r1EA7v.png" alt="">
或者一种近似解法：
<img src="http://i.imgur.com/ojQx65w.png" alt=""></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[听李宗盛]]></title>
      <url>http:starllap.space/2016/09/23/e5-90-ac-e6-9d-8e-e5-ae-97-e7-9b-9b/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p><embed src="http://www.xiami.com/widget/12753884_1772001102/singlePlayer.swf" type="application/x-shockwave-flash" width="257" height="33" wmode="transparent"></p>
<p>夜里从灯火通明的学校回到家，虾米随机放了一首歌。 居然是李宗盛版的《阴天》。</p>
<p>我一下想到了我哥，一个长期只听李宗盛和民谣的男人。大多数的时候，我会忘记他只比我大一岁，他讲起道理，总是让我不得不服。</p>
<p>印象里，一起奋斗的日子里，他总是窝在沙发里，Mac就公放李宗盛。我一个本来没听过李宗盛的人，最后连《山丘》的歌词都倒背如流了。</p>
<p>每句话，都像过完了一生。</p>
<p>之后，有睡不着的时候，会把这首歌拿出来听。</p>
<p>金玟岐翻唱过，太粉饰，或者说太年轻，很不喜。</p>
<p>虽然我是绝对不相信所谓“太年轻了，不能如何如何如何”这样的说辞的，那更像是一种故作老成倚老卖老的姿态。</p>
<p>但是这首歌，但是李宗盛，就像是沉淀了很久的好酒。你很怕一打开，无法抵御扑面而来的岁月感，年轻是真的会醉的。</p>
<p>听李宗盛和梁静茹的合唱，声线都是被拉长了的，背后的东西太多。说也说不完的感觉。梁静茹翻唱过李宗盛的《问》，《梦醒时分》，《明明白白我的心》，有她自己的味道，真实。</p>
<p>有段时间单循听李宗盛的《漂洋过海来看你》的时候，常坐在地毯上，常觉得柔软而被眷顾，觉得心安。</p>
<p>其实，听歌这种事情，不带感情地听，不认真。带感情地听，又太累。</p>
<p>只能适量。摇滚，流行，古典，都要适量，才能冷静地保持自己的平衡。</p>
<p>听李宗盛，更要适量。不然一不小心，听多了或许就看淡人生了。</p>
<p>要真看淡人生，很难保持对生活有热情的那种英雄主义了。</p>
<p>所以，如今，在这个需要被激励的年龄里，我想，等到有一天觉得累了，觉得走不下去了，需要更随意的态度的时候，我再来听听李宗盛吧。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[python remove误区]]></title>
      <url>http:starllap.space/2016/09/19/python-remove-e8-af-af-e5-8c-ba/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>在list里面边查找边remove，会出错。 因为这个原因Debug了一个早上真是哭瞎。</p>
<p>原来是：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">for h in total_h:</div><div class="line">    if attr_value_list not in h:</div><div class="line">       total_h.remove(h)</div></pre></td></tr></table></figure></p>
<p>但结果始终错误，跑不出分。</p>
<p>调用remove后，index改变了。</p>
<p>所以改成了如下，先把要remove的存在新的list里面，再遍历list去掉。</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">for h in total_h:</div><div class="line">    new_h = []</div><div class="line">    if attr_value_list not in h:</div><div class="line">       for x in h:</div><div class="line">           new_h.append(x)</div><div class="line">       remove_list.append(new_h)</div><div class="line">for r in remove_list:</div><div class="line">    total_h.remove(r)</div></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[明天一切好说]]></title>
      <url>http:starllap.space/2016/08/27/e6-98-8e-e5-a4-a9-e4-b8-80-e5-88-87-e5-a5-bd-e8-af-b4/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p> </p>
<p>      落地灯温和地亮着，收拾好卧室，摆好衣架，厨房餐具摆好，才终于有时间坐在自己拼的沙发上和室友讲几句话。</p>
<p>      来了一周多一些，几乎都在疲于应付一个安身立命的地方。想来，被海关关过小黑屋，被房屋manager吼过，被不靠谱的管理人员放鸽子，被计划中的室友坑得措手不及。</p>
<p>      刚到匹兹堡，第三次跑到自己四月份就租下来的公寓却还是拿不到钥匙的时候，一个人，在公交站台，差点就哭出来。</p>
<p>       后来也没有哭，心里觉得不值得，自己提前定了合约，打过电话，没有任何过错，为什么是我要哭。有问题就解决问题好了，不给我我就一直打电话，一直来，耗下去。这么想着，眼泪还是打了个转。眼前是教堂，对面是银行，来往的车辆里还有特斯拉。真不敢相信，这里是美国啊。</p>
<p>       终于拿到了钥匙，激动得去中餐馆吃了一碗牛肉面，和一起的姑娘说起晚上想去接yuki，她说你自己都没照顾好，还管别人。哇地一下，心里感觉被刺到了。</p>
<p>        记得大四的时候，舍友都不在，宿舍黑了，我才发现四年我从来没去充过一次电。后来去澳洲，室友是个事无巨细都会照顾周全的强迫症姑娘，我几乎也没有操过什么心。“生活从来都是不容易的，如果你觉得容易，只是有人替你承担了而已。”</p>
<p>        以前觉得自己从来也都是独当一面的。</p>
<p>        所以，尝试客气地给房屋管理连发邮件，有事儿没事儿去楼下办公室看manager在不在，去银行解决账户被冻结的问题，从li姐姐家里拖床回家，找人开小货车运送家具。</p>
<p>        既然要结果，就要好好处理问题。</p>
<p>        今天，manager迅速帮我换了坏掉的门锁，我刚说冰箱坏了下午就给我换了新的，还开始和我开玩笑，我虽然听不懂他说的是什么笑话，但能感觉他的态度好了很多。交了学费，也找到了新室友，终于有了一个成型的窝。</p>
<p>        和梦瑶说，俩人住也挺好，要不是房租太贵，真想就这么待着，有个采光好的大客厅我就是基本不在家也会觉得开心的。</p>
<p>         她说，你想啊。</p>
<p>         翻白眼。</p>
<p>         这姑娘来了以后，也没少走路，可是有她一起，我反倒比之前好过了很多。好像，一切都是可以解决的。</p>
<p>         这一周来，奔波来去之外的期待竟是坐下好好做题，好好读书，没人打扰。原来安静也可以这么奢侈。</p>
<p>          想来，之后的日子，负担重，压力大，恐怕在所难免。可是啊，既然选择来到了这里，也许就不计较这些了。</p>
<pre><code>&amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; 明天一切好说。晚安。
</code></pre>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[2016-08-02]]></title>
      <url>http:starllap.space/2016/08/02/2016-08-02/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>今天坐在窗台的位置，看着蓝天白云发了会儿呆。</p>
<p>还有三天就要离开上海了。在每一个写过文字的地方都会说，上海啊，我真喜欢这座城。</p>
<p>也许去过很多地方，也许将要去很多地方，也许看过很多风景，也许将要看很多风景，但我不会忘记在我还年轻的时候，上海所给予我的一切。</p>
<p>这里是让我心安的地方。对一个人来说，这样的地方不会很多的。</p>
<p>想起在澳洲的时候总会看星空，第一次住进大房子的时候，坐在阳台上看了好久，也不说话，也不想有人在旁边。就想这么看着，后来太冷了进了屋，坐在地毯上，脑子里还是星空。</p>
<p>寒假的时候被拉去Road Trip，住进一个旁边什么也没有的小木屋，躺在床上就能看到天空。可是我一上床就睡着了，醒来的时候凌晨四点，错过了三点二十的双子座流星雨。</p>
<p>可那一刻，一点也不觉得可惜。</p>
<p>那个时候，心里也是想着这四个字，来日方长。星空一直在啊。不用怕。</p>
<p>高中的时候，顾草草第一次在本子上写给我这句话，来日方长。细瘦的字体特别好看。但就是这种字体，她和我冷战、闹矛盾，一个学期没有讲话的时候，也是用这种字体给我写了小纸条来和好。</p>
<p>那时候真是年轻，现在谁还有精力纠缠这么久。</p>
<p>可是来日方长，到后来其实就是我和我最好的朋友一年才见一面，一面才几个小时，一杯咖啡或者一顿饭。在机场这样匆忙的地方。</p>
<p>所以听上去来日方长真是麻木自己的说辞。</p>
<p>就像那天楠楠和我讨论的那样，这个世界上，很多人把痛苦当磨炼，把平凡当幸福，在某种意义上给自己找到借口，找到心安理得继续活下去的借口。我想，其实是无法分辨痛苦和真正的愉悦，习惯了顺应了痛苦，反而忘记了如何规避痛苦。但规避痛苦，很难，大多数时候，人的惯性会用经验代替感知，无论是自己的还是别人的。</p>
<p>可我还是认为，自己的感受非常重要，非常重要。哪怕找不到路。哪怕回不到原点。也要忠于自我。</p>
<p>晚安。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[温度]]></title>
      <url>http:starllap.space/2016/07/30/e6-b8-a9-e5-ba-a6/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>在出门需要勇气的日子里，看了两部港片。</p>
<p>很久没看港片了，一直很喜欢，虽然对王家卫无感，但很多港片自带弹幕效果，语速快，节奏快，情节紧凑，随便挑一部不至于像大陆很多言之无物的片子一样让人有浪费时间的感叹。</p>
<p>聊聊《六楼后座》，林嘉欣卢巧音在里面实在太美太甜，背心牛仔裤的21世纪初的流行打扮干净利落。六个人最爱玩的“Truth or Dare”，其实也就是真心话大冒险吧。你选择诚实，或者大胆。年轻的状态非常明显，想哭的时候不忍着，想闹的时候就闹，不爽也不憋着，挣扎就是挣扎。</p>
<p>最后一段话，说青春就是方糖。我是不喜“青春“”这个词语的，被俗人用烂了。</p>
<p>但那段话里面有几句话，很有意思：</p>
<blockquote>
<p>这种甜蜜是要亲身用舌尖的热量</p>
<p>才能融化，才能品尝</p>
<p>你总不能隔岸观火</p>
<p>人生总会有这么的一个阶段</p>
<p>一个做什么也快乐的阶段</p>
<p>一个说什么也真诚的阶段</p>
<p>他们可笑也可爱</p>
<p>笑他们</p>
<p>皆因我们曾经荒唐过</p>
<p>爱他们</p>
<p>因为我们也曾经甜蜜过</p>
</blockquote>
<p> </p>
<p>不能隔岸观火。总要自己去融化。我会想起Lewen之前和我说，她说，总觉得这么久了，自己像是自己生命的旁观者。</p>
<p>有的时候我仿佛又这样的体会，没有足够投入地活，靠着惯性而不是动力。</p>
<p>这三个月，在上海，快乐的时候很纯粹，也发现这一年过去，让我真的不在意别人的看法了。但这样的活法，反而让我觉得自己和身边的人都更加自在。</p>
<p>交了很多朋友，每一个都值得。只是，有些话没说，不知道会不会遗憾。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[使用Emacs: 从无法入门到放弃]]></title>
      <url>http:starllap.space/2016/07/27/e4-bd-bf-e7-94-a8emacs-e4-bb-8e-e6-97-a0-e6-b3-95-e5-85-a5-e9-97-a8-e5-88-b0-e6-94-be-e5-bc-83/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p> </p>
<p>被安利使用Emacs来进行文件编辑和管理，打开baidu首页显示的文章是<code>《如何一年成为Emacs大神》</code></p>
<p>一年。</p>
<p>一年。</p>
<p>一年。</p>
<p>（生无可恋）</p>
<p>果然是&quot;神的编辑器&quot;。</p>
<p>不过鉴于一切都要从入门到放弃，我决定尝试一下。</p>
<p>基本操作：</p>
<p>1.打开文件夹： <code>C+x d</code></p>
<p>2.文件目录上一级/下一级： <code>C+x &amp;gt;</code> <code>C+x &amp;lt;</code></p>
<p>3.新建文件（若存在则打开）： <code>C+x C+f</code></p>
<p>4.剪切内容： <code>C+space</code> 开始Mark <code>M+w</code> 复制</p>
<p>5.保存文件： <code>C+x C+s</code></p>
<p>这几步是最基本的了，之后慢慢熟练，慢慢更新。</p>
<pre><code>&amp;nbsp;
</code></pre>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[How to use Markdown as a starter]]></title>
      <url>http:starllap.space/2016/07/26/how-to-use-markdown-as-a-starter/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>Recently, I am desired to write wordpress for do some summarization. But the format and writing style keep confusing me.</p>
<h3 id="lets-try-markdown-this-time">Let's try Markdown this time!</h3>
<p>There are two ways to apply Markdown in wordpress:</p>
<h4 id="1-install-plugins">1. Install plugins:</h4>
<p>The recommended plugin is <a href="https://wordpress.org/plugins/markdown-for-wordpress-and-bbpress/" target="_blank" rel="external">Markdown for WordPress and bbPress</a> But it doesn't work on my wordpress. Sad.</p>
<h4 id="2-using-markdown-tools">2. Using Markdown Tools </h4>
<p>You can write the article in advace using softwares before paste it to the blog.</p>
<p>I prefer this way since using Wordpress to write is a huge disaster.</p>
<h6 id="step-1-know-about-the-grammar-of-markdown">Step 1: Know about the grammar of Markdown :</h6>
<p><a href="https://www.zybuluo.com/mdeditor" target="_blank" rel="external">CMD Markdown</a> is really a good tutorial. Or any other tutorials, whatever.</p>
<h6 id="step-2-download-a-good-markdown-tool">Step 2: Download a good Markdown Tool :</h6>
<p>It's very convenience for us to write and review at the same time. </p>
<p>So, you can download <a href="http://25.io/mou/" target="_blank" rel="external">Mou</a> if you use Mac.</p>
<h6 id="step-3-keep-practising-to-be-perfect">Step 3: Keep practising to be perfect :</h6>
<p>As you can see, this article is written in Markdown.</p>
<p><strong><em>Cheers!</em></strong></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[2016-07-21]]></title>
      <url>http:starllap.space/2016/07/21/2016-07-21/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>一、</p>
<p>我活得越来越坦然的一个信号就是，我能勇敢地和别人安利自己的公众号了。</p>
<p>关于这个公众号，里面的文章带着情绪的成分很多。而我的习惯是，在现实生活中面对面讲话好好相处，这样才是真实的，而不是虚无地毫无基础地通过表情和文字来传达彼此的心理。网络更应该是，让亲密关系更方便，不该是让陌生的人变成熟人，这是不可能。即使有可能，也是脆弱的，不堪一击的。</p>
<p>同时，在很长一段时间里，我也很不愿让别人完全看透我的内心，这让我恐惧和不知所措。但是，现在，成熟地看我依旧不想让别人完全看透，但是我觉得我也不必要隐藏自己本来的一面。我确实想法很多，小心思很多，我相信这不会让人因此而放弃爱我或者疏远我，远离我。</p>
<p>文字还是要写的，而且要写好，要好好写，要认真踏实地，言之有物地写。甚至写出不一样的感觉来。</p>
<p>二、</p>
<p>昨天见了小刘海，一个高高的姑娘，做花艺，话唠，拉拉，可爱。我不是贴标签哦，当我无法完整地写出一个人的时候，我更倾向于记录一些特征。大学的时候，我就像海绵吸水一样，迫不及待地见识各种各样的人，让各种世界观冲击我，迫不及待拓展自己对世界认知的边界。</p>
<p>后来，我慢慢锻炼到能够自己熟练选择想要交的朋友，想要靠近的人，想要谈话的对象。某种意义上来说，时间成本在一方面的减少意味着投入到另一个领域，大概曾经的我确实空虚吧。</p>
<p>小刘海给我了一只花，我养在了水杯里，可惜今天回来的时候已经有点枯萎了。可以做成干花。</p>
<p>三、</p>
<p>为了避免这个博客变成流水账博客。我就停笔，不写了。</p>
<p>今天的BGM是王菲《矜持》。Nighty</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[开篇：打碎浅薄和矫情]]></title>
      <url>http:starllap.space/2016/07/21/e5-bc-80-e7-af-87-ef-bc-9a-e6-89-93-e7-a2-8e-e6-b5-85-e8-96-84-e5-92-8c-e7-9f-ab-e6-83-85/</url>
      <content type="html"><![CDATA[<script src="/assets/js/DPlayer.min.js"> </script><p>所谓开篇，是这个博客的开篇。</p>
<p>我写字的历史很长，换了很多平台。先行总结，字数不算惊人，但也不算少了。</p>
<p>大致如下：</p>
<hr>
<p>2006- 2013年： <a href="http://user.qzone.qq.com/576070839/main" target="_blank" rel="external">QQ空间</a>，107篇日志，其中100篇左右是原创，平均每篇字数达到1000字。</p>
<p>2013- 至今：简书，58篇文章（含公开和不公开），共计43898字。</p>
<p>公众号：看不见的城市（微信搜索公众号：alohomoracity）也在不断更新原创长文+短文中。</p>
<hr>
<p>可惜，认真看来，这些地方记录的更多是细小的生活，个人情感倾向很重，不得不说，在记录的过程中，我对事物会变得更情绪化，在不断强化自己的感受的同时，有梳理平静的好处，但也确实在某种程度上会造成我情感导向的性格。</p>
<p>这一点，从简书后段的记录中尤其明显。在Adelaide的时候，世界很小，又刚从一个情深义重的Team中脱离出来，总没法把自负、矫情客观看待，加上Projects多，与身边的人相处关系简单又复杂，易怒易崩溃，也易喜易满足。</p>
<p>但由衷地，感谢经历过的日子，每次情绪的来临或离开，都让我对这个世界多了解一分。</p>
<p>冷静与冷漠本就不是我的作风，不过是波澜不惊了而已。</p>
<p>可慢慢地，在与数据、代码打交道的时光里，在和程序员越走越近，越聊越多的时光里，在无法从IT这个一颗赛特的行业里脱离出来的时光里，想要把自己塑造成一个逻辑能力卓越，思维敏捷，判断力一流的姑娘。不，我是说人。</p>
<p>从一开始，我的思维里带着性别的观念，给了自己退路和借口，后来发现这才是最大的问题。男生和女生在生理上构造的不同，确实会导致先天优势和思维方式的差异，但其实严格说来，在没到拼天赋的程度，这点差异并不能作为我任何失败或者不思进取的借口。一点点也不应该。</p>
<p>另一方面，一个如我般骄傲的人，自诩就是要兼顾逻辑和感情的。一样也不可以放，一样也不可以输。</p>
<p>感谢Leon给我弄了这个Wordpress，买了域名，之后有机会想自己尝试一下Hexo。之前我一直没有珍惜，没有用起来。</p>
<p>那么，在这个夜深人静的晚上，在我害怕人生停滞不前的晚上，我还保留着盲目的信心，期待着我能在这里更好地记录，看看是不是真的能“打破浅薄和矫情”，如我想的那样，成为想要成为的人。</p>
]]></content>
    </entry>
    
  
  
</search>
